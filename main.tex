\documentclass{article}
\usepackage{graphicx, amsmath, amsfonts, amssymb, hyperref, amsthm, comment, stmaryrd, mathabx}
\usepackage{algorithm2e}
\usepackage{listings}
\usepackage[shortlabels]{enumitem}% Required for inserting images
\theoremstyle{definition}
\newtheorem{thm}{Theorem}[section]
\newtheorem{lem}[thm]{Lemma}
\newtheorem{dfn}[thm]{Definition}
\newtheorem{rmk}[thm]{Remark}
\newtheorem{exm}[thm]{Example}
\usepackage[title]{appendix}

\title{Math 761 Differentiable Manifolds}

\begin{document}

\maketitle

\tableofcontents

\newpage

\section{Topological Manifolds}

{\em Section 1.1 of textbook}\\

Firstly let's recall some basic concepts from topology:

\begin{enumerate}
    \item Let $X$ be a non-empty set. A {\bf topology} is a subset $O$ of its power set $P(X)$, such that $X\in O$, $\emptyset\in O$, $A\subseteq O$ then $\bigcup A\in O$ (here $\bigcup A$ is defined as $\bigcup A=\bigcup_{U\in A}U$), and if $P, Q\in O$ then $P\cap Q\in O$. Elements of $O$ are called {\bf open sets}, their complements are called {\bf closed sets}. $(X, O)$ is called a {\bf topological space}.
    \item Let $(X, O)$ be a topological space, $B\subseteq O$ is called a {\bf basis} of the topology, if for any $U\in O$, $U=\bigcup_{V\in B, V\subseteq U}V$. It is easy to see that a subset $B\subseteq P(X)$ is a basis of some topology, as long as $\bigcup_{V\in B}V=X$, and for any two elements $C, D\in B$, any $x\in C\cap D$, there is some $E\in B$ such that $x\in E\subseteq C\cap D$.
    \item Let $X$ be a non-empty set, $d: X\times X\rightarrow \mathbb{R}_{\geq 0}$ is called a {\bf metric} if $d(a, b)=0$ iff $a=b$, $d(a, b)=d(b, a)$, and $d(a, c)\leq d(a, b)+d(b, c)$. $(X, d)$ is called a {\bf metric space}. It is easy to see that a metric on $X$ would induce a topology $O_d$ which is generated by basis 
    \[B_d=\{\{y\in X: d(x, y)<r\}: r\in\mathbb{R}_{>0}, x\in X\}\] 
    \item Let $X$ be a subset of $\mathbb{R}^n$. Unless specified otherwise, we always assume the topology on $X$ is the one obtained via the Euclidean metric 
    \[d((x_1, \dots x_n), (y_1, \dots, y_n))=\sqrt{\sum_{i=1}^n (x_i-y_i)^2}\]
    \item Let $(X, O)$ be a topological space. A {\bf open cover} is a subset of $O$ whose union is $X$. We say $X$ is compact, if any open cover of $X$ has a finite subcover. From analysis classes we know that a subset of $\mathbb{R}^n$ with subspace topology (a subset is open iff it is the intersection with an open set in $\mathbb{R}^n$) iff it is bounded and closed in $\mathbb{R}^n$.
    \item A map $f$ between two topological spaces $(X, O)$ and $(Y, O')$ is called {\bf continuous}, if for any $V\in O'$, $f^{-1}(V)\in O$. If $f: X\rightarrow Y$ is a bijection and both $f$ and $f'$ are continuous, we call $f$ a {\bf homeomorphism}.
\end{enumerate}

\begin{dfn}
    A topological space $M$ is called a {\bf topological manifold}, if it satisfies the following three conditions:
    \begin{itemize}
        \item It is {\bf Hausdorff}: for any $x, y\in M$, $x\not=y$, there are open sets $U$ and $V$ such that $x\in U$, $y\in V$ and $U\cap V=\emptyset$.
        \item It is {\bf Second Countable}: the topology on $M$ has a countable basis $B$.
        \item It is {\bf Locally Euclidean}: for any $x\in M$, there is an open set $U\subseteq M$ such that $x\in U$ and $U$ is homeomorphic to an open disc in $\mathbb{R}^n$. We require the number $n$ to be a constant for all $x\in M$, and it is called the {\bf dimension} of $M$. 
    \end{itemize}
\end{dfn}

\begin{rmk}
    Any topology induced by a metric is Hausdorff. Because if $x\not=y$, we can let $U$ and $V$ be balls centered at $x$ and $y$ respectively and radius $d(x, y)/3$.
\end{rmk}

\begin{exm}
    The following are examples of topological manifolds:
    \begin{enumerate}
        \item $\mathbb{R}^n$, open subsets of $\mathbb{R}^n$.
        \item $\mathbb{S}^n=\{(x_0, \dots, x_n): x_0^2+\dots +x_n^2=1\}$, with subspace topology.
        \item $\{(x_0, \dots, x_n): x_0=\sqrt{x_1^2+\dots+x_n^2}\}$, because it is homeomorphic to $\mathbb{R}^n$ by $(x_0, \dots x_n)\mapsto (x_1, \dots x_n)$.
    \end{enumerate}
\end{exm}

\begin{exm}
    The followings are non-examples of topological manifolds:
    \begin{enumerate}
        \item When $n\geq 1$, $\{(x_0, \dots, x_n): x_0^2=x_1^2+\dots x_n^2\}$. This is Hausdorff and second countable but not locally Euclidean at $(0, \dots, 0)$.
        \item {\bf Line with a Double Point}: Two copies of $\mathbb{R}$ glued together at $(-\infty, 0)\cup (0, \infty)$. More precisely, consider quotient set $M=\mathbb{R}\times \{0, 1\}/\sim$ where $(a, i)\sim (b, j)$ iff $a=b\not=0$ or $a=b=0$, $i=j$, and we say a subset of $M$ is open iff its preimage under the quotient map is open (i.e. take the {\bf quotient topology}) in $\mathbb{R}\times \{0, 1\}$, where the topology is the {\bf product topology} between the Euclidean topology on $\mathbb{R}$ and the {\bf discrete topology} on $\{0, 1\}$. $M$ is second countable, locally Euclidean but not Hausdorff (there are no disjoint neighborhoods of the points $(0, 0)$ and $(0, 1)$).
        \item {\bf Long Line}: We say a set is {\bf well ordered} if it has a linear order $\preceq$ such that any non-empty subset has a minimal element. Let $\omega_1$ be the {\bf first uncountable ordinal}, i.e. an uncountable, well ordered set such that for any $x\in\omega_1$, $\{y\in\omega_1: y\preceq x\}$ is countable. Give the set $\omega_1\times [0, 1)$ the Lexicographical order, then the {\bf long ray} is $\omega_1\times [0, 1)$ with the topology being the {\bf order topology} (the topology generated by the basis consists of all the {\bf open intervals} $(a, b)=\{c\in X: a\precneq c\precneq b\}$). The {\bf Long Line} is defined as two copies of the long ray glued together at the left end points.\\

        The long line is locally Euclidean, because any countable, well ordered set has an order preserving embedding to any open interval in $\mathbb{R}$. It is also Hausdorff which can be verified directly. However it is not second countable: consider the uncountable set of disjoint open subsets $\{((x, 1/3), (x, 2/3)): x\in\omega_1\}$. Let $B$ be any basis of the topology, then each of these disjoint open subset must contain one distinct element from $B$, hence $B$ is uncountable.
    \end{enumerate}
\end{exm}

\begin{dfn}
    A topological space is called {\bf paracompact} if any open cover has a locally finite refinement, i.e. if $(X, O)$ is the topological space, $C\subseteq O$, $\bigcup C=X$, then there is some $C'\subseteq O$, such that:
    \begin{itemize}
        \item For every $U\in C'$, there is some $V\in C$ such that $U\subseteq V$.
        \item $\bigcup C'=X$.
        \item For every $x\in X$, there is some $U_x\in O$, such that $x\in U_x$ and $\{V\in C': V\cap U_x\not=\emptyset\}$ is finite.
    \end{itemize}
\end{dfn}

The main theorem of this section is the following:

\begin{thm}\label{para}
    Any open cover of a topological manifold has a countable, locally finite subcover. In other words, any topological manifold is paracompact.
\end{thm}

\begin{lem}\label{lem1para}
    If $X$ is Hausdorff, then any non-empty compact subset of $X$ is closed.
\end{lem}

\begin{proof}
    Suppose $V\subseteq X$ is compact. For any $b\in X\backslash V$, any $c\in V$, there are open sets $U_c$, $U'_c$ in $X$ such that $c\in U_c$, $b\in U'_c$ and $U_c\cap U'_c=\emptyset$. Hence by compactness there are finitely many points $c_1, \dots c_n\in V$ such that $V\subseteq \bigcup_{i=1}^n U_{c_i}$. Let $W_b=\bigcap_{i=1}^n U'_{c_i}$. It is a finite intersection of open sets, hence is open, and by construction $W_b\subseteq X\backslash V$. Now we have $X\backslash V=\bigcup_{b\in X\backslash V}W_b$ hence must be open, which implies that $V$ is closed.
\end{proof}

\begin{lem}\label{lem12para}
    If $X$ is a second countable topological space, $C$ is an open cover of $X$, then $C$ has a countable subcover.
\end{lem}

\begin{proof}
    Let $B$ be a countable basis of the topology of $X$. For every $U\in B$, if it is contained in some element $V\in C$, pick one such element and denote it as $V_U$ (here we are using the {\bf axiom of countable choice}). Then $\{V_U\}$ is a countable subset of $C$ which is also an open cover of $X$.
\end{proof}

\begin{lem}\label{lem2para}
    If $M$ is a topological manifold, then there is a countable open cover $C$, such that all elements of $C$ are homeomorphic to open discs in $\mathbb{R}^n$, and their closures are homeomorphic to closed discs. 
\end{lem}

\begin{proof}
    For any $p\in M$, let $U_p$ be an open set containing $p$ which is homeomorphic to an open disc, and let $i_p: U_p\rightarrow D$ be this homeomorphism. Let $D_p$ be an open disc centered in $i_p(p)$ which is contained in $D$, then $B_p=i_p^{-1}(D_p)$ is an open subset of $M$ which is homeomorphic to an open disc, and its closure in $U_p$ is homeomorphic to a closed disc. Because closed discs are compact, by Lemma \ref{lem1para}, the closure of $B_p$ in $U_p$ are closed in $M$ as well, hence it is the closure of $B_p$ in $M$. Apply Lemma \ref{lem12para} to the open cover $\{B_p: p\in M\}$ we get the required countable cover of $M$.
\end{proof}

\begin{lem}\label{lem3para}
    If $M$ is a topological manifold, then $M$ has a {\bf exhaustion by compact sets}, i.e. a sequence of compact subsets $X_0\subseteq X_1\subseteq X_2\dots$ such that $X_i$ is contained in the interior of $X_{i+1}$ for all $i\in\mathbb{N}$. 
\end{lem}

\begin{proof}
    Let $C=\{C_0, C_1, C_2, \dots C_n, \dots\}$ be the countable cover of $M$ from Lemma \ref{lem2para}. We build the compact sets $X_i$ inductively as follows:
    \begin{enumerate}
        \item Let $X_0=\overline{C_0}$.
        \item Suppose we already constructed compact set $X_i$. Find finitely many integers $n_1, \dots n_k$ such that $X_i\cup \overline{C_i}\subseteq C_{n_1}\cup\dots \cup C_{n_k}$, and let $X_{i+1}=\bigcup_{j=1}^k \overline{C_{n_j}}$. Repeat this step then we get the exhaustion by compact sets $X_0\subseteq X_1\dots$.
    \end{enumerate}
\end{proof}

\begin{proof}[Proof of Theorem \ref{para}] 
     Let $C$ be a open cover of the topological manifold $M$, $X_0\subseteq X_1\subseteq X_2\subseteq \dots$ a compact exhaustion in Lemma \ref{lem3para}. Let $U_{i, 1}, \dots, U_{i, n_i}$ be finitely many elements in $C$ that cover the compact subset $X_i$, then 
     \[\{U_{0, 1}, \dots, U_{0, n_0}, U_{1, 1}\backslash X_0, \dots, U_{1, n_1}\backslash X_0, \dots, U_{j, k}\backslash X_{j-1}, \dots\}\]
     is a locally finite refinement of $C$.
\end{proof}

\begin{rmk}
    As an exercise, we can further show that any topological manifold is metrizable (the topology is induced by a metric).
\end{rmk}

\newpage

\section{Smooth Structure, Smooth Functions and Smooth Maps}

{\em Sections 1.2, 1.3 and 2.1 of textbook}\\

\begin{dfn}
    Let $M$ be a topological manifold. By a {\bf coordinate chart}, we mean a homeomorphism from an open subset of $M$ to an open subset of $\mathbb{R}^n$. An {\bf smooth atlas} is a set of coordinate charts $\{i_\alpha: U_\alpha\rightarrow V_\alpha\subseteq \mathbb{R}^n\}$, such that
    \begin{itemize}
        \item $\bigcup_\alpha U_\alpha=M$.
        \item If $U_\alpha\cap U_\beta\not=\emptyset$, then 
        \[i_\beta\circ i_\alpha^{-1}: i_\alpha(U_\alpha\cap U_\beta)\rightarrow i_\beta(U_\alpha\cap U_\beta)\]
        is a smooth bijection whose inverse is also smooth (we call such maps {\bf diffeomorphisms}).
        \item A coordinate chart $f$ is said to be {\bf compatible} with a smooth atlas $A$, if $A\cup\{f\}$ is also a smooth atlas.
    \end{itemize}
\end{dfn}

The followings follow immediately from the fact that compositions of diffeomorphisms are diffeomorphisms:

\begin{rmk}\label{ssts}
    \begin{itemize}
        \item Let $A$ be a smooth atlas on $M$, $B$ a set of coordinate charts that are compatible with $A$, then $A\cup B$ is a smooth atlas.
        \item Every smooth atlas $A$ is contained in a unique maximal (in the sense of containment) smooth atlas $A^*=\{g: g\text{ is a coordinate chart compatible with }A\}$. Such a maximal smooth atlas is called the {\bf smooth structure} defined by $A$. A topological manifold with a smooth structure is called a {\bf smooth manifold} or a {\bf differentiable manifold}.
        \item Two smooth atlases $A$ and $B$ define the same smooth structure, iff every chart in $A$ is compatible with $B$, iff $A\cup B$ is a smooth atlas.
    \end{itemize}    
\end{rmk}

\begin{rmk}
    We can replace ``smooth'' with other kinds of maps, e.g. $C^1$, $C^2$, real analytic, or affine, and define concepts like ``$C^1$ manifolds'', ``$C^2$ manifolds'', ``real analytic manifolds'' or ``affine manifolds''.
\end{rmk}

\begin{exm}
    On topological manifold $M=\mathbb{R}$, 
    \[A_1=\{i: M\rightarrow\mathbb{R}, x\mapsto x\}\]
    and
    \[A_2=\{i': M\rightarrow \mathbb{R}, x\mapsto x^3\}\]
    are two smooth atlases which define different smooth structures.
\end{exm}

\begin{exm}
\begin{itemize}
    \item If $U$ is an open subset of $\mathbb{R}^n$, the default smooth structure is the one defined by the atlas $\{id: U\rightarrow U\subseteq\mathbb{R}^n\}$.
    \item Let $M=\mathbb{S}^n=\{(x_0, \dots, x_n)\in\mathbb{R}^{n+1}: \sum_ix_i^2=1\}$ be the $n$ dimensional sphere. Let $U_0=\mathbb{S}^n\backslash (1, 0, \dots, 0)$, $U_1=\mathbb{S}^n\backslash (-1, 0, \dots, 0)$, $i_0: U_0\rightarrow\mathbb{R}^n$ be the polar, or stereographic projection map: 
    \[i_0(x_0, \dots, x_n)=({x_1\over 1-x_0}, \dots, {x_n\over 1-x_0})\]
    and $i:1: U_1\rightarrow\mathbb{R}^n$ be 
    \[i_1(x_0, \dots, x_n)=({x_1\over 1+x_0}, \dots, {x_n\over 1+x_0})\]
    then the default smooth structure on $M$ is the one defined by atlas $\{i_0, i_1\}$.
    \item Let $\mathbb{RP}^n$ be the $n$-dimensional {\bf real projective space}, let $U_k$, $k=0, \dots, n$ be $U_k=\{[x_0, \dots, x_n]: x_k\not=0\}$, $i_k: U_k\rightarrow \mathbb{R}^n$ be $i_k([x_0, \dots, x_n])=(x_0/x_k,\dots, x_{k-1}/x_k, x_{k+1}/x_k, \dots, x_n/x_k)$. The default smooth structure on $\mathbb{RP}^n$ is the one defined by $\{i_k\}$. Similarly one can define the default smooth structure on the {\bf complex projective space} $\mathbb{CP}^n$.
\end{itemize}
\end{exm}

\begin{dfn}
\begin{enumerate}
\item A real valued function $f$ on a smooth manifold $M$ is called {\bf smooth}, if for any coordinate chart $i: U\rightarrow V$ in the smooth structure of $M$, $f\circ i^{-1}$ is smooth on $V$. A function taking value in $\mathbb{R}^n$ is called smooth if every component of it is smooth.
\item A map between two smooth manifolds $f: M\rightarrow N$ is called {\bf smooth}, if for every $p\in M$, any coordinate chart $i: U\rightarrow V$ in the smooth structure of $M$ such that the domain contains $p$, any coordinate chart $j: U'\rightarrow V'$ in the smooth structure of $N$ such that the domain contains $f(p)$, there is some neighborhood $V_p$ of $i(p)$ in $V$ such that $f\circ i^{-1}(V_p)\subseteq U'$, and $j\circ f\circ i^{-1}$ is smooth on $V_p$.
\item A bijection between two smooth manifolds which is smooth, and has smooth inverse, is called a {\bf diffeomorphism}. 
\end{enumerate}
\end{dfn}

\begin{rmk}
    It is easy to see that to check a function is smooth or a map is smooth, one need to only verify it for an atlas of the domain.
\end{rmk}

\begin{dfn}
\begin{itemize}
   \item If $M$ is a smooth manifold and $U\subseteq M$ an open subset, $U$ can be made into a smooth manifold by restricting the coordinate charts of $M$ to $U$, and $U$ is called an {\bf open submanifold}.
   \item Let $M$ and $N$ be two smooth manifolds, of dimensions $m$ and $n$ respectively. Let $A$ be a smooth atlas on $M$, $B$ a smooth atlas on $N$, both subsets of the respective smooth structure, then 
    \[A\times B=\{(p, q)\mapsto (i(p), j(q)): i\in A, j\in B\}\]
    is a smooth atlas on $M\times N$. We call $M\times N$ with the induced smooth structure the {\bf product manifold}. 
    \end{itemize}
\end{dfn}

\begin{dfn}
    A group $G$ is called a {\bf Lie group}, if it is also a smooth manifold and the multiplication and inverse functions are both smooth.
\end{dfn}

\begin{exm}
    Consider the {\bf general linear group} $GL(n, \mathbb{R})$, which we see as an open subset of $\mathbb{R}^{n\times n}$. Linear algebra implies that it is a Lie group.
\end{exm}

Another way of constructing smooth manifolds is by ``patching'' together locally Euclidean pieces. Namely:

\begin{thm}\label{patch}
    If $M$ is a set, $\{U_\alpha\}$ a set of subsets of $M$, $\bigcup_\alpha U_\alpha=M$. For every $U_\alpha$, there is a bijection $i_\alpha$ from $U_\alpha$ to an open subset of $\mathbb{R}^d$, denoted as $V_\alpha$. If
    \begin{enumerate}[(1)]
        \item If $U_a\cap U_b\not=\emptyset$, then $i_a(U_a\cap U_b)$ is an open subset of $V_a$.
        \item If $U_a\cap U_b\not=\emptyset$, then $i_bi_a^{-1}: i_a(U_a\cap U_b)\rightarrow i_b(U_a\cap U_b)$ is smooth.
        \item There is a countable subset of $\{U_\alpha\}$ whose union is $M$.
        \item If $p, q\in M$, either there is some $U_a$ containing both $p$ and $q$, or there are $U_a$, $U_b$ such that $p\in U_a$, $q\in U_b$ and $U_a\cap U_b=\emptyset$.
    \end{enumerate}
    Then:
    \begin{enumerate}
        \item $M$ is a topological manifold under the topology 
        \[O=\{U\subseteq M: i_\alpha(U\cap U_\alpha)\text{ is open in }V_\alpha\text{ for all }\alpha\}\]
        \item $\{i_\alpha\}$ is a smooth atlas on $M$, which makes it a smooth manifold.
    \end{enumerate}
\end{thm}

\begin{proof}
     It is clear that $O$ is a topology. Condition (1) implies that all $U_\alpha$ are open in this topology, hence $\{U_\alpha\}$ is an open cover of $M$. Condition (2) implies that $i_b\circ i_a^{-1}$ are all homeomorphisms, which together with Condition (1), implies that for any open subset $V\subseteq V_\alpha$, $i_\alpha^{-1}(V)$ is open in $M$, which implies that $i_\alpha$ are all homeomorphisms, i.e. the topology on $M$ is locally Euclidean. This together with Condition (4) implies that the topology on $M$ is Hausdorff, and together with the condition (3) implies that the topology is second countable. This proved part 1. Now Part 2 follows immediately from Condition (2).
\end{proof}

\newpage

\section{Partition of Unity and smooth approximation of functions}

{\em Sections 2.2 and 6.4 of textbook}\\

From now on unless specified otherwise, whenever we talk about a coordinate chart on a smooth manifold we require that it be in the smooth structure.\\

\begin{dfn}
Let $X$ be a topological space, $f$ a real valued function. The {\bf support} of $f$, denoted as $supp(f)$, is defined as $\overline{\{x\in X: f(x)\not=0\}}$.
\end{dfn}

\begin{lem}\label{lem1pu}
Let $M$ be a smooth manifold, $i: U\rightarrow V$ a coordinate chart. Let $f$ be a compactly supported smooth function on $V$, then $g: M\rightarrow\mathbb{R}$ defined as 
\[g(p)=\begin{cases} f(i(p)) & p\in U\\ 0 & p\not\in U\end{cases}\]
is smooth on $M$.
\end{lem}

\begin{proof}
    Let $i': U'\rightarrow V'$ be another coordinate chart in the smooth structure of $M$, and $q\in V'$. If $i'{-1}(q)\in U$, in a neighborhood of $q$ we have $g\circ i'^{-1}=f\circ i\circ i'^{-1}$ hence is smooth. If not, by Lemma \ref{lem1para} there must be a neighborhood of $i'^{-1}(q)$ in $M$ which is disjoint from the support of $g$, hence in a neighborhood of $q$ the function $g\circ i'^{-1}=0$.
\end{proof}

\begin{lem}\label{lem2pu}
    Let $U$ be an open subset of $\mathbb{R}^n$, $V\subseteq U$ a bounded closed set. Then there is a compactly supported smooth function $g$ on $\mathbb{R}^n$ such that $supp(g)\subseteq U$ and $g$ is positive on $V$. 
\end{lem}

\begin{proof}
    Pick $\epsilon>0$ small enough such that the closure of the $\epsilon$-neighborhood of $V$ is contained in $U$. Let 
    \[g'(x)=\begin{cases}\epsilon-2dist(x, V) & dist(x, V)<\epsilon/2 \\ 0 & dist(x, v) \geq \epsilon/2\end{cases}\]
    Then we can let $g=g'*\phi$, where $\phi$ is a {\bf smooth bump function}:
    \[\phi(x_1, \dots, x_n)=\begin{cases}e^{-1/(\epsilon^2/4-\sum_i x_i^2)} & \sum_i x_i^2<\epsilon^2/4 \\ 0 & \sum_i x_i^2\geq \epsilon^2/4\end{cases}\]
\end{proof}

This is a stronger version of Lemma \ref{lem2para}:

\begin{lem}\label{lem3pu}
    Let $M$ be a smooth manifold, $\mathcal{C}$ an open cover. There is a countable refinement of $\mathcal{C}$, denoted as $\mathcal{D}$, such that each element in $\mathcal{D}$ is homeomorphic to an open disc, and its closure is homeomorphic to a closed disc and contained in the domain of some coordinate chart of $M$. 
\end{lem}

\begin{proof}
 The proof is almost identical to Lemma \ref{lem2para}. Only differences are that the homeomorphism $i_p$ are required to be in the smooth structure of $M$, and also the neighbors $B_p$ have to be sufficiently small so they are subsets of some element of $\mathcal{C}$.
\end{proof}

\begin{lem}\label{lem4pu}
    Let $X$ be a topological space, $\mathcal{C}$ a locally finite cover of $X$, $A\subseteq X$ compact. Then there is an open set $U\subseteq X$, such that $A\subseteq U$ and $U$ intersects with only finitely many elements of $\mathcal{C}$.
\end{lem}

\begin{proof}
    For every $x\in X$, let $U_x$ be a neighborhood such that there are only finitely many elements in $\mathcal{C}$ that have non-empty intersection with $U_x$. Compactness implies that there are finitely many points $x_1, \dots, x_n$ such that $X=\bigcup_{i=1}^n U_{x_i}$, and we can let $U=\bigcup_{i=1}^n U_{x_i}$.
\end{proof}

\begin{lem}\label{lem5pu}
    Let $X$ be a Hausdorff topological space, $\mathcal{C}$ a locally finite cover of $X$ such that the closure of all elements of $\mathcal{C}$ are compact. Then there is another locally finite cover $\mathcal{C}'$ and a surjection $I: \mathcal{C}\rightarrow \mathcal{C}'$, such that for any $U\in \mathcal{C}$, $U\subseteq I(U)$, and $\overline{I(U)}$ is compact.
\end{lem}

\begin{proof}
    For any $U\in \mathcal{C}$, by Lemma \ref{lem4pu}, there are finitely many elements in $\mathcal{C}$ that have non-empty intersection with $\overline{U}$. Let $I(U)$ be their union. It is easy to show that $I(U)\cap I(U')\not=\emptyset$ iff there are $V, W\in\mathcal{C}$ such that $U\cap V\not=\emptyset$, $V\cap W\not=\emptyset$ and $W\cap U'\not=\emptyset$. It is easy to see that given any $U$ there are only finitely many such $U'$. Let $\mathcal{C}'=\{I(U): U\in\mathcal{C}\}$.
\end{proof}

We will now prove the main theorem:

\begin{thm}[Partition of Unity]\label{pu}
Let $M$ be a smooth manifold, $\mathcal{C}$ an open cover. Then:
\begin{enumerate}
    \item There is a countable, locally finite refinement $\mathcal{C}'$ of $\mathcal{C}$, such that for every $D\in \mathcal{C}'$, $\overline{D}$ is compact, and there is a non-negative, compactly supported smooth function $f_D$ on $M$ with $supp(f)\subseteq D$, and $1=\sum_D f_D$.
    \item For every $U\in\mathcal{C}$, there is a non-negative smooth function $f_U$ on $M$ whose support is in $U$, such that $1=\sum_U f_U$. Here the right hand side always have finitely many non-zero terms.
\end{enumerate}
\end{thm}

\begin{proof}
    Apply Theorem \ref{para} to the cover $\mathcal{D}$ from Lemma \ref{lem3pu}, we get a countable locally finite refinement denoted as $\mathcal{C}''$. Apply Lemma \ref{lem5pu}, we get $\mathcal{D}'=\{I(W): W\in\mathcal{C}''\}$. For every $W\in\mathcal{C}''$, there is a coordinate chart $i_W: U_W\rightarrow V_W$ such that $\overline{W}\subseteq U_W$. Let $J(W)=I(W)\cap U_W$, $\mathcal{C}'=\{J(W)\}$, then $\mathcal{C}'$ is a countable locally finite cover by elements whose closures are compact.\\

    Now apply Lemma \ref{lem2pu} to $i_W(\overline{W})\subseteq i_W(J(W))$, and apply Lemma \ref{lem1pu} to the resulting smooth functions, we get smooth non negative functions $g_W$ which is positive on $W$ and has compact support contained in $J(W)$. Then we can let 
    \[f_D={\sum_{W\in\mathcal{C}'', J(W)=D}f_W\over\sum_{V\in\mathcal{C}''}f_V}\]
    To show part 2, for every $D\in\mathcal{C}'$, pick some $U_D\in \mathcal{C}$ such that $D\subseteq U_D$, and let \[f_U=\sum_{U_D=U}f_D\]
\end{proof}

As an application, we have the following results:

\begin{lem}[Smooth Extension Lemma]\label{extend}
Let $M$ be a smooth manifold, $A\subseteq M$ a closed set. Let $f$ be a real valued function on $A$, such that for every $p\in A$, there is some open set $U_p$ containing $p$, some real valued function $f_p$ which is smooth on $U_p$ and $f_p|_{A\cap U_p}=f|_{A\cap U_p}$. Then there is a smooth function $g$ on $M$ such that $f|A=g|A$. 
\end{lem}

\begin{proof}
Consider the open cover of $M$: 
\[\mathcal{C}=\{U_p: p\in A\}\cup\{M\backslash A\}\]
Apply part 2 of Theorem \ref{pu}, let $g=\sum_{p\in A}f_{U_p}f_p$.
\end{proof}

\begin{rmk}
    It is easy to see that the condition of $A$ being closed is necessary.
\end{rmk}

\begin{rmk}
    If $f$ satisfies the assumptions of Lemma \ref{extend}, we say $f$ is {\bf smooth on $A$}.
\end{rmk}

\begin{thm}[Smooth Approximation for Functions, first version]\label{approx1}
Let $M$ be a smooth manifold, $f$ a continuous, real valued function on $M$, and let $\epsilon$ be any positive real valued function on $M$. Then there is a smooth function $g$ on $M$ such that $|f-g|\leq \epsilon$.
\end{thm}

\begin{proof} Let $\mathcal{D}$ be the open cover from Lemma \ref{lem3pu}, apply Theorem \ref{pu} part 1 we get a countable, locally finite refinement $\mathcal{D}'$ and a set of compactly supported smooth functions $\{f_D: D\in \mathcal{D}'\}$. Now every $D\in\mathcal{D}'$ lies in some $U\in\mathcal{D}$. Let $i_U$ be the corresponding smooth coordinate chart, and $i_D=i_U|_D$. Then $(ff_D)\circ i_D^{-1}$ is a continuous function with compact support hence uniformly continuous, and the support is contained in open set $i_D(D)\subseteq \mathbb{R}^n$.\\

Because $\overline{D}$ is compact, by Lemma \ref{lem4pu}, the cardinality of the set $\{D'\in\mathcal{D}': D\cap D'\not=\emptyset\}$ is finite. Let $N_D\in\mathbb{Z}_{>0}$ be this cardinality. Because any continuous function with compact support is uniformly continuous, by convolution with a smooth bump function (or alternatively, the Stone-Weierstrass theorem), we can find a smooth function $h_D$ with compact support contained in $i_D(D)$ such that $|h_D-(ff_D)\circ i_D^{-1}|<{\epsilon\over 2N_D}$. Now let $g=\sum_{D\in\mathcal{D}'}g_D$, where $g_D=h_D\circ i_D$ on $D$ and is $0$ elsewhere. 
\end{proof}


\begin{thm}[Whitney's Smooth Approximation for Functions]\label{approx2}
Let $M$ be a smooth manifold, $f$ a continuous, real valued function on $M$, which is smooth on closed set $A$. Let $\epsilon$ be any positive continuous function on $M$. Then there is a smooth function $g$ on $M$ such that $|f-g|\leq \epsilon$, and $f=g$ on $A$.
\end{thm}

\begin{proof}
    Let $h$ be the smooth extension of $f|_A$ in Lemma \ref{extend}. $U_A$ be a neighborhood of $A$ on which $|f-h|<\epsilon/2$. Then $\{U_A, M\backslash A\}$ is an open cover of $M$. Apply Theorem \ref{approx1}, let $g_1$ be a smooth function on $M\backslash A$ such that $|g_1-f|<\epsilon/2$.  Now apply Theorem \ref{pu} part 2 to the above-mentioned open cover, and let $g=f_{U_A}h+f_{M\backslash A}g_1$.
\end{proof}



\newpage

\section{Rank Theorem, Immersion, submersion and embedding}
\label{sec:rank}

{\em Chapters 4 and 5 of the textbook}\\

The goal of this section is to study the {\em local normal form} of a smooth map between smooth manifolds.\\

\begin{dfn}
Let $f: M\rightarrow N$ be a smooth map, $p\in M$. Let $i: U\rightarrow V$ be a coordinate chart on $M$ whose domain contains $p$, $j: U'\rightarrow N$ a coordinate chart on $N$ whose domain contains $f(p)$, then the {\bf rank} of $f$ at $p$ is rank of the derivative of $j\circ f\circ i^{-1}$ at $i(p)$.
\end{dfn}

Recall that if $f$ is a smooth function from an open set in $\mathbb{R}^m$ to $\mathbb{R}^n$, $f=(f_1, \dots, f_n)$, then the derivative $Df$ at a point in the domain is the $n\times m$ matrix where the $(i, j)$-entry is $\partial f_i/\partial x_j$.

\begin{rmk}
    By chain rule and linear algebra, one can see that the rank is independent of the choice of the coordinate charts. 
\end{rmk}

\begin{rmk}
    It is easy to see that the rank of a smooth function is lower semicontinuous.
\end{rmk}

The main theorem for this section is:

\begin{thm}[Rank Theorem]\label{rank}
    Let $f: M\rightarrow N$ be a smooth map, $p\in M$ and the rank of $f$ is $r$ in a neighborhood of $p$. Let $m=\dim(M)$, $n=\dim(N)$. Then there are coordinate charts $i$ and $j$ whose domain contains $p$ and $f(p)$ respectively, such that $i(p)$ and $j(f(p))$ are the origins of $\mathbb{R}^m$ and $\mathbb{R}^n$, and $j\circ f\circ i^{-1}$ is $(x_1, \dots, x_m)\mapsto (x_1, \dots, x_r, 0, \dots, 0)$.
\end{thm}

The proof is based on this fact from analysis:

\begin{thm}[Inverse Function Theorem]\label{inv}
    Let $f: D\subseteq \mathbb{R}^n\rightarrow \mathbb{R}^n$ be a smooth map defined on a neighborhood of $0$, $f(0)=0$ and $Df|_0$ is non singular, then there are neighborhoods $U$ and $V$ both containing $0$ such that $f|_U$ is a diffeomorphism from $U$ to $V$.
\end{thm}\qed

There are many ways to prove inverse function theorem, e.g. by finding a fixed point of a contraction map.\\

\begin{proof}[Proof of Theorem \ref{rank}]
    Without loss of generality we can assume $M$ and $N$ be open subsets of $\mathbb{R}^n$ and $\mathbb{R}^n$ containing the origin, $f=(f_1, \dots, f_n)$ sends the origin to origin, and its derivative at origin is $\left[\begin{array}{cc} I_r & 0\\ 0 & 0\end{array}\right]$. Apply Theorem \ref{inv} to the map $i: M\rightarrow \mathbb{R}^m$ defined as 
    \[i(x_1, \dots, x_m)=(f_1, \dots, f_r, x_{r+1}, \dots, x_m)\]
    Then $i$ is a local diffeomorphism around the origin hence a local coordinate chart after restriction. Let 
    \[H_j(y_1, \dots, y_r)=f_j(i^{-1}(y_1, \dots, y_r, 0, \dots))\]
    By assumption the function $f\circ i^{-1}$ is rank $r$ in a neighborhood of $0$, and $f\circ i^{-1}(x_1, x_m)=(x_1, \dots, x_r, f_{r+1}\circ i^{-1}, \dots, f_m\circ i^{-1})$, by linear algebra, if $l, k>r$ then 
    \[{\partial(f_l\circ i^{-1})\over \partial x_k}=0\]
    Hence 
    \[f\circ i^{-1}(x_1, \dots, x_m)=(H_1(x_1, \dots, x_r), \dots, H_m(x_1, \dots, x_r))\]
    Now we can let 
    \[j(y_1, \dots, y_n)=(y_1, \dots, y_r, y_{r+1}-H_{r+1}(y_1, \dots, y_r), \dots, y_n-H_n(y_1, \dots, y_r))\]
    and finish the proof.
\end{proof}

\begin{rmk}
    When $m>n=r$, the first half of the proof above implies the implicit function theorem below:
\end{rmk}

\begin{thm}[Implicit Function Theorem]\label{implicit}
    Let $L$, $M$, $N$ be smooth manifolds, $\dim(M)=\dim(N)$, $f: L\times M\rightarrow N$
is smooth, and on some point $(a, b)\in L\times M$, the rank of $f(a, \cdot)$ has rank $\dim(M)$ at $b$. Let $c=f(a, b)$. Then, there is a neighborhood $U$ of $a$, a neighborhood $V$ of $b$, a function $g: U\rightarrow V$ that sends $a$ to $b$, such that on $U\times V$, $f(x, y)=c$ iff $y=g(x)$.\end{thm}\qed

\begin{dfn}
    A smooth map $f: M\rightarrow N$ is called
    \begin{itemize}
        \item An {\bf immersion} if $Df$ always define an injective linear map.
        \item A {\bf submersion} if $Df$ always define a surjective linear map.
        \item An {\bf embedding} if it is an immersion and a homeomorphism from $M$ to $f(M)$ with subspace topology. When $f$ is inclusion map we call $M$ an {\bf embedded submanifold} of $N$.
        \item A {\bf local diffeomorphism} if it is both an immersion and a submersion.
    \end{itemize}
\end{dfn}

\begin{rmk}
    Open submanifolds are special cases of embedded submanifolds.
\end{rmk}

\begin{exm}
\begin{itemize}
\item The map $f: \mathbb{R}^2\rightarrow \mathbb{R}$ defined as $(x, y)\mapsto x-y^2$ is a submersion.
\item The map $f: \mathbb{R}\rightarrow \mathbb{R}^2$ defined as $x\mapsto (x, x^3)$ is an embedding.
\item The unit sphere in $\mathbb{R}^{n+1}$ is an embedded submanifold.
\end{itemize}
\end{exm}

\begin{exm}
    Let $M=\mathbb{R}^2$, $A=\{(x, y): y^2=x^2(x+1)\}$ is the image of an immersion (e.g. $\mathbb{R}\rightarrow \mathbb{R}^2$ defined as $t\mapsto (t^2-1, t^3-t)$) but not the image of an embedding.
\end{exm}

\begin{exm}
    The map $t\mapsto (t^2-1, t^3-t)$ from $(-1, \infty)$ to $\mathbb{R}^2$ is an injective immersion but not an embedding.
\end{exm}

\begin{thm}
    Let $M$ be a smooth manifold, $A\subseteq M$. The followings are equivalent:
    \begin{enumerate}
        \item $A$ is an embedded submanifold of dimension $r$
        \item For every $p\in A$, there is a coordinate chart $i_p: U_p\rightarrow V_p$, such that $p\in U_p$, $i_p(p)=0\in V_p$, and $i_p(A\cap U_p)$ is an open subset of the subspace of $\mathbb{R}^{\dim(M)}$ spanned by the first $r$ coordinate vectors.
        \item For every $p\in A$, there is an open neighborhood $U_p$, a smooth submersion $h$ from $U_p$ to $\mathbb{R}^{\dim(M)-r}$, such that $A\cap U_p=h^{-1}(0)$.
    \end{enumerate}
\end{thm}

\begin{proof}
$1\implies 2$: Apply rank theorem to the embedding map. Shrink $V$ if needed.\\

$2\implies 3$: Use the same $U_p$ in 2, let $h$ be the projection to the last $\dim(M)-r$ coordinates.\\

$3\implies 2$: Apply rank theorem to $h$.\\

$2\implies 1$: Because $M$ is a manifold, $A$ with subspace topology is Hausdorff and second countable. Condition 2 implies that $A$ is locally Euclidean, and one can further verify that $i_p|_{A\cap U_p}$ composed with the projection to the first $r$ coordinates form a smooth atlas on $A$.
\end{proof}

\begin{rmk}
    The condition that the rank is locally constant is needed, for example, consider map $f: \mathbb{R}^2\rightarrow \mathbb{R}^2$ defined as $f(x, y)=(x, yx^2)$, and $p=(0, 0)$.
\end{rmk}

\begin{rmk}
    The proof above implies that if $A\subseteq M$ is an embedded submanifold then the smooth structure on $A$ that makes inclusion map an embedding is unique.
\end{rmk}

\begin{exm}
    $\{[x_0:x_1:x_2]\in\mathbb{CP}^2: x_2^2x_0-x_1^3+x_1x_0=0\}$ is an embedded submanifold of $\mathbb{CP}^2$.
\end{exm}

\begin{exm}
    Classical matrix groups like $SL$, $SO$, $O$, $U$, $SU$, $SP$ etc are all embedded submanifolds of the corresponding general linear group.
\end{exm}

\begin{exm}
    $\left\{\left[\begin{array}{cc}e^it & 0\\ 0 & e^i\pi t\end{array}\right]: t\in\mathbb{R}\right\}$ is the image of an injective immersion but not an embedded submanifold, because $\pi$ is irrational which implies that the image is not locally connected.
\end{exm}


\newpage

\section{Manifold with boundary}

{\em Section 1.4 of textbook}

\begin{dfn}\label{mwb}
    \begin{itemize}
        \item A topological {\bf manifold with boundary} of dimension $n$ is a Hausdorff, second countable space where each point has a neighborhood that is homeomorphic to either a disc or a half disc. Let $M$ be a topological manifold with boundary, $p\in M$, if any neighborhood of $p$ can only be homeomorphic to a half disc but not a disc, we call it a {\bf boundary point}. The set of boundary points of a manifold with boundary $M$ is denoted as $\partial M$.
        \item A {\bf smooth manifold with corner} is a topological manifold $M$ with boundary with a smooth structure, i.e. a smooth atlas such that the codomains are open subsets of $[0, \infty)^r\times\mathbb{R}^{n-r}$. If one can make all $r\leq 1$, we call $M$ with this smooth structure is a {\bf smooth manifold with boundary}.
    \end{itemize}
\end{dfn}

\begin{exm}
    The {\bf closed ball} $\{(x_1, \dots, x_n)\in\mathbb{R}^n:\sum_{i=1}^n x_i^2\leq 1\}$ can be made into a smooth manifold with boundary via the default smooth structure on $\mathbb{R}^n$.
\end{exm}

\begin{rmk}
    \begin{itemize}
        \item Let $M$ be a smooth manifold of dimension $m$, $N\subseteq M$ an embedded submanifold of dimension $m-1$, then one can ``cut open'' $M$ along $N$ to get a smooth manifold with boundary.
        \item Let $M$ be a smooth manifold with boundary, one can glue two copies of $M$ at the boundary to get a manifold without boundary, the original boundary set became an embedded submanifold. This is called {\bf doubling}.
    \end{itemize}
\end{rmk}

\newpage

\section{Vector Bundles}

{\em Chapters 10 of the textbook}\\

In Section \ref{sec:rank} we know that if $f: M\rightarrow N$ is a smooth map between smooth manifolds, $p\in M$, $i$ a chart defined on a neighborhood of $p$ and $j$ a chart defined on a neighborhood of $f(p)$, then the rank of $D(j\circ f\circ i^{-1})$ is independent of the choice of $i$ and $j$, yet the matrix it self does depend on the choice of these coordinates. To have a well defined concept of ``derivative'' on manifolds one need to introduce the concept of {\bf bundles}.

\begin{dfn}\label{vb}
    Let $M$ be a smooth manifold. A (smooth) rank $d$-{\bf real vector bundle} over $M$ (called the {\bf base}) is a smooth manifold $E$ (called the {\bf total space}), a smooth map $\pi: E\rightarrow M$, such that there is an open cover $\mathcal{C}$ of $M$, and
\begin{enumerate}
    \item For any $U\in\mathcal{C}$, there is a diffeomorphism (called a {\bf trivialization}): $j_U: \pi^{-1}(U)\rightarrow U\times\mathbb{R}^d$, such that $j_U(q)=(\pi(q), \cdot)$. (In other words, if $\pi_1: U\times \mathbb{R}^d\rightarrow U$ is the projection to the first factor $\pi_1(p, v)=p$, then $\pi_1\circ j_U=\pi|_{\pi^{-1}(U)}$.)
    \item For any two $U, U'\in\mathcal{C}$, if $U\cap U'\not=\emptyset$, then there is some smooth map $t_{U', U}: U\cap U'\rightarrow GL(d, \mathbb{R})$, called {\bf transition function}, such that for any $p\in U\cap U'$, $v\in\mathbb{R}^d$, $j_{U'}(j_U^{-1}(p, v))=(p, t_{U', U}(p)v)$.
\end{enumerate}
  For any $p\in M$, the preimage $\pi^{-1}(p)$ is called a {\bf fiber}, denoted as $E_p$. One can also define complex vector bundles analogously.
\end{dfn}  

\begin{rmk}
    $E_p$ has vector space structure inherited from the trivialization maps.
\end{rmk}

\begin{rmk}
  If the transition function factors through some Lie group homomorphism $G\rightarrow GL(d)$ then we call it a $G$-bundle. It is clear that a rank $d$ complex bundle is a rank $2d$ $GL(d, \mathbb{C})$-real bundle, where the homomorphism from $GL(d, \mathbb{C})$ to $GL(2d, \mathbb{R})$ is by identifying $\mathbb{C}^d$ with $\mathbb{R}^{2d}$.
\end{rmk}

\begin{exm}
    $M\times\mathbb{R}^d$ with the projection map is a vector bundle, called {\bf trivial bundle}. The corresponding $t_{U', U}$ can be chosen to be constant function $I_d$.
\end{exm}

\begin{exm}
    Let $M=\mathbb{CP}^n$ which we identify with 1-dimensional complex subspaces of $\mathbb{C}^{n+1}$, let $E=\{(p, q)\in \mathbb{CP}^n\times\mathbb{C}^{n+1}: q\in p\}$, $\pi: (p, q)\mapsto p$. $(E, p)$ is called the {\bf tautological line bundle}, denoted as $\mathcal{O}(-1)$.
\end{exm}


\begin{dfn}
    Let $(E, \pi: E\rightarrow M)$, $(E', \pi': E'\rightarrow M')$ be two vector bundles, a {\bf bundle homomorphism} is a smooth map $g: E\rightarrow E'$, such that there is a smooth map $f: M\rightarrow M'$ such that:
    \begin{itemize}
    \item $\pi'\circ g=f\circ \pi$
    \item For every $q\in E$, there is a trivialization $j: \pi^{-1}(U_q)\rightarrow U_q\times\mathbb{R}^d$, $j': \pi'^{-1}(U_{g(q)})\rightarrow U_{g(q)}\times\mathbb{R}^d$, such that $\pi(q)\in U_q\subseteq M$, $\pi'(g(q))\in U_{g(q)}\subseteq M'$, and there is a matrix $A\in M_{d\times d}(\mathbb{R})$ such that $j\circ g\circ j^{-1}(\pi(q), v)=(\pi'(g(q)), Av)$ (in other words, it is linear on the fiber).
    \end{itemize}
    If $M=M'$ and $f=id_M$ we call it a {\bf bundle homomorphism over $M$}. By Theorem \ref{rank} one can show that if a bundle homomorphism is bijective then its inverse is also a bundle homomorphism, and we call it a {\bf bundle isomorphism}. Similarly we can define {\bf bundle isomorphism over $M$}.
\end{dfn}

\begin{rmk}\label{tvb}
By Theorem \ref{patch}, to specify a real rank $d$ vector bundle over a smooth manifold $M$, one needs only the following data:
\begin{enumerate}
    \item An open cover $\mathcal{C}$ of $M$.
    \item For any $U, U'\in \mathcal{C}$, if $U\cap U'\not=\emptyset$, there is a smooth map $t_{U', U}: U\cap U'\rightarrow GL(d, \mathbb{R})$
\end{enumerate}
such that
\begin{enumerate}
    \item $t_{U, U}\equiv I_d$
    \item If $U\cap U'\cap U''\not=\emptyset$, then on $U\cap U'\cap U''$, $t_{U'', U}(p)=t_{U'', U'}(p)t_{U', U}(p)$ (cocycle condition).
\end{enumerate}
If $(E, \pi)$ is a vector bundle, it is evident that the $t_{U', U}$ in Definition \ref{vb} satisfy the two conditions above. If we have functions $t_{U', U}$ that satisfy the conditions above, consider disjoint unions of $U\times\mathbb{R}^d$, glue them together using $t_{U', U}$ (the two conditions above implies that this gluing is via an equivalence relation), then apply Theorem \ref{patch} to a refinement of the cover $\mathcal{C}$.
\end{rmk}

\begin{rmk}
    Two sets of transition functions $t_{U', U}$, $t'_{U', U}$ gives vector bundles that are isomorphic over $M$ iff for every $U\in\mathcal{C}$, there is a smooth map $s_U: U\rightarrow GL(d, \mathbb{R})$, such that $t'_{U', U}(p)=s_{U'}(p)t_{U', U}(s_{U}(p))^{-1}$, which is called the ``coboundary condition''.
\end{rmk}

\newpage

\section{Tangent Bundles, Cotangent Bundles}

{\em Section 3 and 11 of textbook}\\

\begin{dfn}\label{tancot}
    Let $M$ be a smooth manifold of dimension $n$, let $\mathcal{A}=\{i_\alpha: U_\alpha\rightarrow V_\alpha\}$ be a smooth atlas, $\mathcal{C}$ be the domains of coordinate charts in $\mathcal{A}$, for every $U\in\mathcal{C}$, there is a unique chart $i_U: U\rightarrow V\subseteq\mathbb{R}^n$
    \begin{itemize}
    \item If $t_{VU}(p)=D(i_V\circ i_U^{-1})|_{i_U(p)}$, the resulting bundle (via Remark \ref{tvb}) is called the {\bf tangent bundle}, denoted as $T(M)$ or $TM$.
    \item If $t_{VU}(p)=(D(i_U\circ i_V^{-1})|_{i_V(p)})^T$, the resulting bundle is called the {\bf cotangent bundle}, denoted as $T^*(M)$ or $T^*M$.
    \end{itemize}
    The fibers of $TM$ and $T^*M$ on $p\in M$ are called {\bf tangent space} and {\bf cotangent space}, denoted as $T_p(M)$ (or $T_pM$) and $T^*p(M)$ (or $T^*_pM$), their elements are called {\bf tangent vectors} and {\bf cotangent vectors} respectively. 
\end{dfn}

To understand these bundles geometrically we need coordinate-free ways to describe their elements:

\begin{thm}\label{coordfree1}
    Let $M$ be a smooth manifold of dimension $n$, $C^\infty(M)$ is the vector space of real valued smooth functions. For any $p\in M$, let $N_p$ be the subspace consisting of functions whose rank at $p$ is $0$. Then there is a bijection from the disjoint union of $C^\infty(M)/N_p$ for all $p\in M$ to $T^*(M)$, such that the map from each $C^\infty(M)/N_p$ to cotangent space $T^*_p(M)$ is linear.
\end{thm}

\begin{proof}
    Recall from Remark \ref{tvb}, $T^*(M)$ can be seen as a quotient of the disjoint union of $U\times\mathbb{R}^n$ where $U\in\mathcal{C}$. Pick some $U$ containing $p$, define the map as \[(p, [f])\mapsto (p, (D(f\circ i_U^{-1})|_{i_U(p)})^T)\in U\times\mathbb{R}^n\]
    By chain rule and the definition of transition function of $T^*(M)$ we know that this definition is independent on the choice of $U$ (hence the map is well defined), and by linearlity of derivatives, it is linear from $C^\infty(M)/N_p$ to $T^*_p(M)$. By construction, $[f]$ get sent to $0$ iff $f\in N_p$ which shows that this is injective on each $C^\infty(M)$. Let $P_j: \mathbb{R}^n\rightarrow \mathbb{R}$ be $P_j(t_1, \dots, t_n)=t_j$, then for any $(a_1, \dots, a_n)\in \mathbb{R}^n$, consider $f=\sum_ja_j(P_i\circ i_U)$ (and then extended to $M$ by Partition of Unity (Theorem \ref{extend})), we see that this map is a surjection.
\end{proof}

\begin{dfn}
    Let $M$ be a smooth manifold of dimension $n$, $p\in M$. We say $\gamma:I\rightarrow M$ is a smooth path starting at $p$, if $I\subseteq\mathbb{R}$ is an open set containing $0$, $\gamma$ is a smooth map and $\gamma(0)=p$. We say two such paths $\gamma$, $\gamma'$ have the same velocity at $0$, if under a coordinate chart $i_U: U\rightarrow V$ such that $p\in U$, we have $D(i_U\circ \gamma)=D(i_U\circ \gamma')$. By chain law, whether or not two paths starting at $p$ have the same velocity at $p$ doesn't depend on the choice of the chart.
\end{dfn}

\begin{thm}\label{coordfree2}
    Let $M$ be a smooth manifold, there are bijections between:
    \begin{itemize}
        \item The set of equivalence class of paths starting at $p$, where two paths are equivalent iff they have the same velocity.
        \item $(C^\infty(M)/N_p)^*$ (linear maps from $C^\infty(M)/N_p$ to $\mathbb{R}$) as in Theorem \ref{coordfree1}
        \item $T_pM$.
    \end{itemize}
    As a consequence, $TM$ can be seen as either disjoint unions of the set of equivalence classes of paths starting at some $p\in M$, or disjoint unions of $(C^\infty(M)/N_p)^*$
\end{thm}

\begin{proof}
    Recall from Remark \ref{tvb}, $T^*(M)$ can be seen as a quotient of the disjoint union of $U\times\mathbb{R}^n$ where $U\in\mathcal{C}$. Pick some $U$ containing $p$, define the two map to $T_p(M)$ as:
    \[(p, [\gamma])\mapsto (p, D(i_U\circ \gamma)|_0)\in U\times\mathbb{R}^n\]
    and
    \[(p, f)\mapsto (p, (f([P_j\circ i_U])_{j=1,\dots, n}))\in U\times\mathbb{R}^n\]
    Where functions $p_j$ are defined in the proof of Theorem \ref{coordfree1}. We can verify these are well defined bijections as in \ref{coordfree1}.
\end{proof}

\begin{rmk}
    When there is no ambiguity, let $j_U: \pi^{-1}(U)\rightarrow U\times\mathbb{R}^d$ be a local trivialization, $p\in U$, we can write points in the fiber $j_U^{-1}(p, v)\in \pi^{-1}(p)$ as $v$.
\end{rmk}


\begin{exm}
    If $M$ is an open submanifold of $\mathbb{R}^n$, $TM$ and $T^*M$ are both isomorphic over $M$ to the trivial bundle.
\end{exm}

\begin{exm}\label{s2}
    Let $S^2$ be the unit sphere in $\mathbb{R}^3$, $S^2=\{(x_0, x_1, x_2)\in\mathbb{R}^3$. It has two coordinate charts 
    \[i_0: \{(x_0, x_1, x_2)\in S^2: x_0\not=1\}\rightarrow \mathbb{R}^2\] 
    \[(x_0, x_1, x_2)\mapsto (x_1/(1-x_0), x_2/(1-x_0))\]
    \[i_1: \{(x_0, x_1, x_2)\in S^2: x_0\not=-1\}\rightarrow \mathbb{R}^2\] 
    \[(x_0, x_1, x_2)\mapsto (x_1/(1+x_0), x_2/(1+x_0))\]
    Hence 
    \[i_0\circ i_1^{-1}(y_1, y_2)=i_1\circ i_0^{-1}(y_1, y_2)=(y_1/(y_1^2+y_2^2), y_2/(y_1^2+y_2^2))\]
    The transition function of $TS^2$ is
    \[t_{10}(i_0^{-1}(y_1, y_2))={1\over (y_1^2+y_2^2)^2}\left[\begin{array}{cc}-y_1^2+y_2^2 & -2y_1y_2\\ -2y_1y_2 & y_1^2-y_2^2\end{array}\right]\]
    And the transition function of $T^*S^2$ is
    \[t_{10}(i_0^{-1}(y_1, y_2))={1\over (y_1^2+y_2^2)^2}\left[\begin{array}{cc}-y_1^2+y_2^2 & -2y_1y_2\\ -2y_1y_2 & y_1^2-y_2^2\end{array}\right]\]
    Consider point $p=(0, 1, 0)=i_0^{-1}(1, 0)\in S$, let $f(x_0, x_1, x_2)=x_0+x_2$, then 
    \[f\circ i_0^{-1}(y_1, y_2)={y_1^2+y_2^2-1\over y_1^2+y_2^2+1}+{2y_2\over y_1^2+y_2^2+1}\]
    So in Theorem \ref{coordfree1}, the cotangent vector $[f]$ under the trivialization associated to $i_0$ becomes $(1, 1)$, while under the trivialization associated to $i_1$ should be 
    \[\left[\begin{array}{cc}-1 & 0 \\ 0 & 1\end{array}\right]\left[\begin{array}{c}1\\1\end{array}\right]=\left[\begin{array}{c}-1\\1\end{array}\right]\]
    which is the derivative of 
    \[f\circ i_1^{-1}(y_1, y_2)={1-y_1^2-y_2^2\over y_1^2+y_2^2+1}+{2y_2\over y_1^2+y_2^2+1}\]
    at $(1, 0)$.
\end{exm}

\begin{rmk}
    Let $p\in M$, $i: U\rightarrow V\subseteq\mathbb{R}^n$ a coordinate chart whose domain contains $p$. Then $\{[P_k\circ i]\}$ form a basis of $T^*_pM$, which we denote as $\{dx_k\}$. The dual basis in $T_p^M$ can be denoted as $\{\partial/\partial x_k\}$ or $\{\partial_k\}$. The path $\gamma_k$ corresponding to $\partial_k$ in Theorem \ref{coordfree2} can be picked as, for example, $\gamma_k(t)=i^{-1}(i(p)+te_k)$ where $e_k$ is the $k$-th standard basis in $\mathbb{R}^n$.
\end{rmk}

\begin{rmk}
    We often write $x_k$ as $x^k$ under {\bf Einstein notation} which means summing over any index that appear as both a subscript and a superscript. Then the $k$ in $dx^k$ is a superscript while the $k$ in $\partial\over \partial x^k$ is a subscript. 
\end{rmk}

\begin{rmk}
Theorem \ref{coordfree1} and \ref{coordfree2} imply that:

\begin{enumerate}
\item There is a canonical bilinear form on $T_pM\times T^*_pM$ defined as $(l, [f])=l([f])$ (if $T_pM$ is seen as the dual of $C^\infty/N_p$), or $([\gamma], [f])=(f\circ \gamma)'(0)$ (if $T_pM$ is seen as the set of equivalence classes of paths).
\item A smooth map $g: M\rightarrow N$ induces a linear map $g_*: T_pM\rightarrow T_{g(p)}N$, and a linear map $g^*: T^*_{g(p)}N\rightarrow T^*_pM$, such that for every $x\in T_pM$, $a\in T^*_{g(p)}N$, 
\[(x, g^*(a))=(g_*(x), a)\]
(this property is called ``adjoint'').\\
    
These maps can be defined as
\[g^*([f])=[f\circ g]\]
and (when see $TM$ as equivalence classes of paths)
\[g_*([\gamma])=[g\circ\gamma]\]
\item We can write down $g^*$ and $g_*$ under coordinate chart as follows: let $p\in U$, $f(p)\in U'$, $i_U: U\rightarrow V\subseteq\mathbb{R}^m$ and $i_{U'}: U'\rightarrow V'\subseteq \mathbb{R}^n$ be smooth coordinate charts on $M$ and $N$ respectively, then let $e_j$ be the $j$-th standard basis vector in $\mathbb{R}^n$, we have
\[g^*(e_j)=g^*(dy^j)=[P^j\circ i_{U'}\circ g]=
D(P_j\circ i_U'\circ g\circ i_U^{-1})|_{i_U(p)}^T\]
\[=\left[{\partial(i_{U'}\circ g\circ i_U^{-1})^j\over \partial x^1}, \dots, {\partial(i_{U'}\circ g\circ i_U^{-1})^j\over \partial x^m}\right]^T\]
\[=\sum_{k=1}^m {\partial(i_{U'}\circ g\circ i_U^{-1})^j\over \partial x^k} dx^k\]
Under Einstein's notation, this can be written as
\[g^*dy^j={\partial y^j\over \partial x^k}dx^k\]
where the map $i_{U'}\circ g\circ i_{U}^{-1}$ is $(x_1, \dots, x_m)\mapsto (y_1, \dots, y_n)$.\\

Now let $e_j$ be the $j$-th standard basis vector of $\mathbb{R}^m$, let $\gamma_j: \mathbb{R}\rightarrow M$ be such that $\gamma_j(0)=p$, $D(i_U\circ\gamma_j)|_0=e_j$. Then we have
\[g_*(e_j)=g_*(\partial_j)=g_*([\gamma_j])=[g\circ \gamma_j]=D(i_{U'}\circ g\circ \gamma_j)|_0\]
\[=D(i_{U'}\circ g\circ i_U^{-1})|_{i_U(p)}e_j={\partial y^k\over \partial x^j}\partial_k\]
Where the map $i_{U'}\circ g\circ i_U^{-1}$ is $(x_1, \dots x_m)\mapsto (y_1, \dots, y_n)$.

From this we can see that $g_*$ can be made into a bundle homomorphism, and $g^*$ is a bundle homomorphism if $g$ is a diffeomorphism.
\item By definition we have $(f\circ g)_*=f_*\circ g_*$, $(f\circ g)^*=g^*\circ f^*$.
\end{enumerate}
\end{rmk}

\begin{exm}
    Consider the smooth embedding map $\iota$ of the unit 2-sphere into $\mathbb{R}^3$, pick $p=(0, 1, 0)$, local coordinate chart of $S^2$ around $p$ being $(t^1, t^2)=(x^1/(1-x^0), x^2/(1-x^0))$, and local coordinate chart around $p$ in $\mathbb{R}^3$ being the identity. Then the map $(t^1, t^2)\mapsto (x^0, x^1, x^2)$ is
\[(t^1, t^2)\mapsto \left({(t^1)^2+(t^2)^2-1\over (t^1)^2+(t^2)^2+1}, {2t^1\over (t^1)^2+(t^2)^2+1}, {2t^2\over (t^1)^2+(t^2)^2+1}\right)\]
So 
\[\iota_*(\partial_1)=\partial_0\]
\[\iota_*(\partial_2)=\partial_2\]

Note that $(1, 0, 0)$ and $(0, 0, 1)$ form a basis of the space of tangent vectors of $S^2$ at $(0, 1, 0)$ in Euclidean geometry. 
\end{exm}
\newpage

\section{Sections, Vector fields and 1-forms}

{\em Chapters 8, 10, 11}\\

\begin{dfn}
    Let $(E, \pi)$ be a smooth vector bundle over $M$. A {\bf smooth section} is a smooth map $s: M\rightarrow E$ such that $\pi\circ s=id_M$. A smooth section of the tangent bundle is called a {\bf vector field}, a smooth section of the cotangent bundle is called a {\bf 1-form}.
\end{dfn}



\begin{rmk}\label{coordsec}
   Suppose $E$ is a rank $n$ smooth real vector bundle (complex bundles are similar) over smooth manifold $M$, and let $s$ be a map such that $\pi\circ s=id_M$. Then under local trivialization $j_U: \pi^{-1}(U)=U\times \mathbb{R}^n$, we have $s(M)\cap \pi^{-1}(U)=s(U)$, and $s$ is a smooth section iff $j_U(s(U))$ is the graph of some smooth map from $U$ to $\mathbb{R}^n$. In particular, under a coordinate chart a vector field is of the form $a^i\partial_i$, a $1$ form is of the form $a_idx^i$, where $a_i$ are smooth real valued functions and the two formula above are in Einstein's notation.
\end{rmk}


\begin{rmk}
    Let $\alpha$, $\beta$ be smooth sections of the vector bundle $E$ over manifold $M$, $f$ a smooth function on $M$. We can define $\alpha+\beta$ as $(\alpha+\beta)(p)=\alpha(p)+\beta(p)$, $(f\alpha)(p)=f(p)\alpha(p)$. Here the addition and scalar multiplication on the right hand side is via the vector space structure on $E_p$ which we can obtain via local trivialization. This makes the set of smooth sections $\Gamma(E)$ a $C^\infty(M)$-module.
\end{rmk}

\begin{exm}\label{exmsec}
    Let $M$ be a smooth manifold, $f$ a real valued smooth function, then $p\mapsto f+N_p$ is a smooth section of $T^*M$ (one can verify this by calculation in a coordinate chart then apply Remark \ref{coordsec}), which we denoted as $df$. Similarly, if $f: M\times\mathbb{R}\rightarrow M$ is a smooth map where $f(x, 0)=x$, then $p\rightarrow [f(p, \cdot)]$ is a smooth section of $TM$.
\end{exm}

\begin{rmk}
   A rank $d$ vector bundle is isomorphic over $M$ to a trivial bundle iff it has $d$ sections that are linearly independent at every point.
\end{rmk}

\begin{exm}\label{ts2}
By rotation number one can see that there are no vector field on 2-sphere $S^2$ which is everywhere non-zero. Hence $TS^2$ is non-trivial. Use the smooth atlas in Example \ref{s2}, consider the path $t\mapsto (0, \cos(t), \sin(t))$. Because the transition function between the two trivializations takes value in an angle reversing map, suppose $X$ is a section on $TS^2$ which is not zero on the path, its turning angle along the path in two trivializations must sum up to be a constant. Furthermore, because the path bound a disc, if we want $X$ to have no zero on the whole $S^2$ then both turning angles must be $0$. By doing calculation on any specific vector field we see that this sum can not be $0$, a contradiction.
\end{exm}

\begin{exm}
    By considering the sections $g\mapsto [g\cdot \gamma(t)]$ (see Example \ref{exmsec}) one can see that any Lie group has trivial tangent bundle. Hence $TS^3=T(SU(2))$ is trivial.
\end{exm}

\begin{dfn}
    We say a smooth vector bundle $E$ is {\bf orientable} if it has a family of trivialization such that the determinant of the value of transition function is always positive. We say $M$ is orientable iff $TM$ is an orientable vector bundle over $M$. In other words, iff it has a smooth atlas where the derivative of transition functions $i'\circ i^{-1}$ all have positive determinants.
\end{dfn}

\begin{exm}
    By Partition of Unity Theorem \ref{pu}, any rank $1$ orientable smooth line bundle has a non-zero section hence is trivial. Another way to show this is by coboundary condition, see Practice Problems 3 in the Appendix A5.
\end{exm}

\begin{rmk}
    Let $X$ be a smooth vector field, $\alpha$ be a 1-form, then $p\mapsto (X(p), \alpha(p))$ is a real valued smooth function on $M$. 
\end{rmk}

\begin{rmk}
    If $g: M\rightarrow N$ is a smooth map, $\alpha$ a smooth section of $T^*N$, then $p\mapsto g^*(\alpha(g(p)))$ is a smooth section of $T^*M$, denoted as $g^*(\alpha)$.
\end{rmk}


\newpage

\section{Operations on Set of Bundles, Riemannian metrics}

{\em Chapters 10, 12}\\

Let $X$, $Y$ and $Z$ be three sets, $f: X\rightarrow Z$, $g: Y\rightarrow Z$ two maps, the {\bf fiber product} is a subset of $X\times Y$ defined by $X\times_Z Y=\{(x, y)\in X\times Y: f(x)=g(y)\}$, with maps $p_1: X\times_Z Y\rightarrow X$ defined by $(x, y)\mapsto x$ and $p_2: X\times_Z Y\rightarrow Y$ defined by $(x, y)\mapsto y$. Then $f\circ p_1=g\circ p_2$. Furthermore, for any set $W$, any maps $a: W\rightarrow X$ and $b: W\rightarrow Y$ such that $f\circ a=g\circ b$, there is a unique $h: W\rightarrow X\times_Z Y$ such that $a=p_1\circ h$, $b=p_2\circ h$. Actually, $h$ can be written as $w\mapsto (a(w), b(w))$.

\begin{dfn}\label{pullback}
Let $f: M\rightarrow N$ be a smooth map, $(E, \pi)$ a smooth vector bundle on $N$. Then the {\bf pullback} of $E$, denoted as $f^*E$, has total space the fiber product between $M$ and $E$: $\{(x, q)\in M\times E: f(x)=\pi(q)\}$, and the projection is $(x, q)\mapsto x$.
\end{dfn}

\begin{rmk}
    It is easy to show that $f^*E$ is a smooth vector bundle on $M$: $f^*E$ is an embedded submanifold of $M\times E$ (which we can verify via coordinate charts), hence is a smooth manifold. If $E$ has a local trivialization associated with an open cover $\mathcal{C}$ of $N$, where the transition functions are $\{t_{VU}\}$, then $f^*E$ has a local trivialization associated with cover $\{f^{-1}(U): U\in\mathcal{C}\}$, with transition functions $t'_{f^{-1}(V)f^{-1}(U)}=t_{VU}\circ f$.
\end{rmk}

\begin{rmk}
    If $f: M\rightarrow N$, $g: N\rightarrow L$ are smooth, $E$ a smooth vector bundle on $L$, then by Definition \ref{pullback}, $(g\circ f)^*E=f^*(g^*E)$.
\end{rmk}

\begin{exm}
\begin{itemize}
    \item If $f$ is an injection, $E$ a bundle over $N$, $\pi: E\rightarrow N$, then $f^*E=\pi^{-1}(M)$. If $E=TN$ we denote this $f^*(E)$ as $T_M N$.
    \item If $f$ is constant function sending every point to $c\in N$, then $f^*(E)$ is trivial bundle $N\times E_c$.
\end{itemize}
\end{exm}

Recall that if $V$ and $W$ are vector spaces over a field $k$ (for our course, $k=\mathbb{R}$ or $\mathbb{C}$), then
\begin{itemize}
    \item The {\bf dual} of $V$ is the vector space consisting of linear transformations from $V$ to $k$, with addition and scalar multiplication defined as $(af)(x)=a(f(x))$, $(f+f')(x)=f(x)+f'(x)$. This space is denoted as $V^*$.  
    \begin{itemize}
        \item There is a canonical bilinear pairing $V^*\times V\rightarrow k$ defined as $(f, x)=f(x)$.
        \item If $\psi: V\rightarrow V'$ is a linear map, there is an induced linear map $\psi^*: V'^*\rightarrow V^*$, defined as $\psi^*(f)=f\circ \psi$. 
        \item $(\psi\circ \psi')^*=\psi'^*\circ \psi^*$, $(id_V)^*=id_{V^*}$.
        \item If $\psi$ is an isomorphism so is $\psi^*$.
    \end{itemize}
    \item The {\bf direct sum} (or {\bf direct product}) $V\oplus W$ is the vector space consisting of elements in the Cartesian product $V\times W$, such that addition and scalar multiplication are defined as
    \[(v, w)+(v', w')=(v+v', w+w'), r(v, w)=(rv, rw)\]
    \begin{itemize}
        \item There are canonical isomorphisms between $V\oplus W$ and $W\oplus V$, and between $(V\oplus V')\oplus V''$ and $V\oplus(V'\oplus V'')$.
        \item If $f: V\rightarrow V'$, $g: W\rightarrow W'$ are linear maps, then there is a linear map $f\oplus g: V\oplus W\rightarrow V'\oplus W'$ defined as $(f\oplus g)(v, w)=(f(v), g(w))$. 
        \item $id_V\oplus id_W=id_{V\oplus W}$, $(f\circ f')\oplus (g\circ g')=(f\oplus g)\circ (f'\oplus g')$.
        \item If both $f$ and $g$ are isomorphisms then so is $f\oplus g$.
    \end{itemize}
    \item The {\bf Tensor Product} $V\otimes W$ (or $V\otimes_kW$) is defined as
    \[V\otimes W=span_k(V\times W)/span_k(\{a(v, w)-(av, w), a(v, w)-(v, aw),\]
    \[(v+v', w)-(v, w)-(v', w), (v, w+w')-(v, w)-(v, w'):a\in k, \]
    \[v, v'\in V, w, w'\in W\})\]
    The element represented by $(v, w)$ in $V\otimes W$ is denoted as $v\otimes w$.
    \begin{itemize}
        \item There is a bilinear map $i: V\times W\rightarrow V\otimes W$ defined as $(v, w)\mapsto v\otimes w$. For any bilinear map $q: V\times W\rightarrow L$, there is a linear map $q': V\otimes W\rightarrow L$ such that $q=q'\circ i$. 
        \item If $\{a_i\}$ is a basis of $V$, $\{b_j\}$ a basis of $W$, then a basis of $V\otimes W$ is $\{a_i\otimes b_j\}$.
        \item There are canonical isomorphisms between $V\otimes W$ and $W\otimes V$, and between $(V\otimes V')\otimes V''$ and $V\otimes(V'\otimes V'')$.
        \item If $f: V\rightarrow V'$, $g: W\rightarrow W'$ are linear maps, then there is a linear map $f\otimes g: V\otimes W\rightarrow V'\otimes W'$ defined as $(f\otimes g)(v\otimes w)=f(v)\otimes g(w)$. 
        \item $id_V\otimes id_W=id_{V\otimes W}$, $(f\circ f')\otimes (g\circ g')=(f\otimes g)\circ (f'\otimes g')$.
        \item If both $f$ and $g$ are isomorphisms then so is $f\otimes g$.
    \end{itemize}
    \item If $f: V\rightarrow W$ is a linear map, $\ker(f)=\{v\in V: f(v)=0\}$.
    \begin{itemize}
        \item If $f: V\rightarrow W$, $f': V'\rightarrow W'$, $g_1: V\rightarrow V'$, $g_2: W\rightarrow W'$ satisfies $g_2\circ f=f'\circ g_1$, then $g_1|_{\ker(f)}$ sends $\ker(f)$ to $\ker(f')$.
        \item If $g_1$ and $g_2$ are both isomorphisms, $g_1|_{\ker(f)}: \ker(f)\rightarrow \ker(f')$ is also an isomorphism.
    \end{itemize}
\end{itemize}

\begin{rmk}
    $V\otimes(W+W')\cong V\otimes W+V\otimes W'$, $V\oplus 0\cong 0\oplus V\cong V$, $V\otimes k\cong k\otimes V\cong V$.
\end{rmk}

\begin{exm}
    The space of linear transformations from $V$ to $W$, denoted as $Hom_k(V, W)$, is isomorphic to $V^*\otimes W$.
\end{exm}

\begin{dfn}\label{constvb}
    \begin{itemize}
        \item Let $E$ be a smooth real vector bundle of rank $d$ over manifold $M$, the {\bf dual bundle} $E^*=\sqcup_{x\in M}(E_x)^*$, $\pi'$ sends elements of $(E_x)^*$ to $x$, with smooth structure derived from local trivializations defined as follows: let $j_U: \pi^{-1}(U)\rightarrow U\times\mathbb{R}^d$ be a local trivialization of $E$, then we define
        \[j'_U: \pi'^{-1}(U)=\sqcup_{x\in U}(E_x)^*\rightarrow U\times (\mathbb{R}^d)^*\cong U\times \mathbb{R}^d\]
        \[q\mapsto (\pi'(q), (v\mapsto q(j_U^{-1}(\pi'(q), v))))\]
        \item Let $(E, \pi)$, $(E', \pi')$ be two smooth real vector bundles of rank $d$ and $d'$ over manifold $M$, the {\bf direct sum bundle} $E\oplus E'=\sqcup_{x\in M}(E_x\oplus E'_x)$, $\pi''$ sends elements of $E_x\oplus E'_x$ to $x$, with smooth structure derived from local trivializations defined as follows: let $j_U: \pi^{-1}(U)\rightarrow U\times\mathbb{R}^d$ be a local trivialization of $E$, $j'_U: \pi'^{-1}(U)\rightarrow U\times\mathbb{R}^{d'}$ be a local trivialization of $E'$, $p_2: U\times\mathbb{R}^d\rightarrow\mathbb{R}^d$ and $p'_2: U\times\mathbb{R}^{d'}\rightarrow\mathbb{R}^{d'}$ are both projections to the second component, then we can define
        \[j''_U: \pi''^{-1}(U)=\bigsqcup_{x\in U}(E_x\oplus E'_x)\rightarrow U\times (\mathbb{R}^d\oplus\mathbb{R}^{d'})\cong U\times \mathbb{R}^{d+d'}\]
        \[q\mapsto (\pi''(q), (p_2(j_U(q)), p'_2(j'_U(q))))\]
        \item Let $(E, \pi)$, $(E', \pi')$ be two smooth real vector bundles of rank $d$ and $d'$ over manifold $M$, the {\bf tensor product bundle} $E\oplus E'=\bigsqcup_{x\in M}(E_x\otimes E'_x)$, $\pi''$ sends elements of $E_x\otimes E'_x$ to $x$, with smooth structure derived from local trivializations defined as follows: let $j_U: \pi^{-1}(U)\rightarrow U\times\mathbb{R}^d$ be a local trivialization of $E$, $j'_U: \pi'^{-1}(U)\rightarrow U\times\mathbb{R}^{d'}$ be a local trivialization of $E'$, $p_2: U\times\mathbb{R}^d\rightarrow\mathbb{R}^d$ and $p'_2: U\times\mathbb{R}^{d'}\rightarrow\mathbb{R}^{d'}$ are both projections to the second component, then we can define
        \[j''_U: \pi''^{-1}(U)=\bigsqcup_{x\in U}(E_x\otimes E'_x)\rightarrow U\times (\mathbb{R}^d\otimes\mathbb{R}^{d'})\cong U\times \mathbb{R}^{dd'}\]
        \[q\otimes q'\mapsto (\pi''(q\otimes q'), p_2(j_U(q))\otimes p'_2(j'_U(q)))\]
        \item Let $(E, \pi)$, $(E', \pi')$ be two smooth real vector bundles of rank $d$ and $d'$ over manifold $M$, let $f: E\rightarrow E'$ be a vector bundle homomorphism over $M$ such that the rank of $f$ at every point $x\in M$ is constant $r$, ($rank(f|_{E_x}: E_x\rightarrow E'_x)=r$ for all $x\in M$), then the smooth embedded submanifold $\{v\in E: f(e)=0\}$ is a smooth vector bundle, called the {\bf kernel} of $f$, denote as $\ker(f)$.
    \end{itemize}
\end{dfn}

\begin{rmk}
    The above concepts can be defined for complex vector bundles as well.
\end{rmk}

\begin{rmk}\label{consttran}
    If $E$ and $E'$ both have trivilizations associated to the same open cover $\mathcal{C}$, so are $E^*$, $E\oplus E'$ and $E\otimes E'$. This is NOT true for kernel bundles which can be seen in the example below. If the transition functions of $E$ and $E'$ are $\{t_{VU}\}$ and $\{t'_{VU}\}$, the corresponding transition functions for $E^*$, $E\oplus E'$ and $E\otimes E'$ are $\overline{t_{VU}^{-1}}$, $t_{VU}\oplus t'_{VU}$ and $t_{VU}\otimes t'_{VU}$ respectively.
\end{rmk}

\begin{exm}
    Consider the map $f: \mathbb{R}^3\rightarrow\mathbb{R}$ defined as $f(x_1, x_2, x_3)=x_1^2+x_2^2+x_3^2$, the unit 2-sphere $S^2$ is the embedded submanifold $f^{-1}(1)$. Let $i$ be the inclusion map from $S^2$ to $\mathbb{R}^3$, then $f$ induces a bundle homomorphism from $i^*(T\mathbb{R}^3)$ to $(f\circ i)^*(T\mathbb{R}^1)$ (which are both trivial) whose kernel is isomorphic to $TS^2$ (which us not trivial by Example \ref{ts2}. Furthermore, $TS^2\oplus (S^2\times \mathbb{R})\cong \mathbb{S^2}\times\mathbb{R}^3$.
\end{exm}

\begin{rmk}
    If $E$, $E'$ are bundles over $M$, $g: E\rightarrow E'$ a homomorphism of constant rank, $f: N\rightarrow M$ a smooth map, then $f^*(E^*)=(f^*(E))^*$, $f^*(E\oplus E')=f^*(E)\oplus f^*(E')$, $f^*(E\otimes E')=f^*(E)\otimes f^*(E')$. Let $f^*(g)$ be the homomorphism from $f^*(E)$ to $f^*(E')$ induced by $g$, then $\ker(f^*(g))=f^*(\ker(g))$.
\end{rmk}

Recall that a quadratic form on a vector space $V$ is a symmetric bilinear form, hence can be written as an element in $q\in V^*\otimes V^*$ such that under map $s: a\otimes b\mapsto b\otimes a$ we have $s(q)=q$. Hence:

\begin{dfn}
    Let $E$ be a smooth real vector bundle over manifold $M$, $s: E^*\otimes E^*\rightarrow E^*\otimes E^*$ be defined as $s(u\otimes v)=v\otimes u$. Then, a smooth section of $\ker(id-s)$ is called a quadratic form on $S$. It is called {\bf positive definite} iff its value at all $x\in M$ is positive definite. A positive definite quadratic form on $TM$ is called a {\bf Riemannian metric}.
\end{dfn}

\begin{rmk}
    Riemannian metric gives one a way to measure the length of tangent vectors as well as angles between tangent vectors, which allow us to do geometry as we had done in Euclidean space.
\end{rmk}

\begin{thm}\label{extrie}
    Any smooth vector bundle has a positive definite quadratic form. In particular, any smooth manifold has a Riemannian metric.
\end{thm}

\begin{proof}
    Let $j_U: \pi^{-1}(U)\rightarrow U\times\mathbb{R}^n$ be a set of local trivializations of $E$, $e_1, \dots e_n$ the standard basis of $\mathbb{R}^n$. For any $p\in U$, $\{j_U^{-1}(p, e_i)\}$ is a basis of $E_p$, let $\{\alpha^i\}$ be the dual basis in $E_p^*$, then $q_U=\sum_i\alpha^i\otimes\alpha^i$ is a smooth positive quadratic form on $E|_U$. Let $\mathcal{C}$ be an open cover such that for every $U\in \mathcal{C}$ there is a local trivialization of $E$ denoted as $j_U$, $\{\psi_U\}$ a set of partition of unity functions, then we can set $q=\sum_{U\in\mathcal{C}}\psi_Uq_U$.
\end{proof}

\begin{rmk}
    If $f: E\rightarrow E'$ is an injective bundle homomorphism, we call $E$ a {\bf subbundle} of $E'$. A positive definite quadratic form gives a constant rank bundle map $p: E'\rightarrow E$ via orthogonal projection, $\ker(p)$ is called the {\bf orthogonal complement bundle} or the {\bf quotient bundle} or the {\bf cokernel bundle}, denoted as $E^\perp$ or $E'/E$ or $coker(f)$.
\end{rmk} 

\begin{rmk}
    The orthogonal complements defined by different quadratic forms are isomorphic.
\end{rmk}


\begin{exm}
    If $M$ is an embedded submanifold of $M'$, there is a bundle homomorphism $i_*: TM\rightarrow T_M(M')$, the orthogonal complement of $TM$ in $T_M(M')$ is called the {\bf normal bundle}. 
\end{exm}

\begin{dfn}
    Let $M$ be a smooth manifold.
    \begin{itemize}
        \item A {\bf $(p, q)$ tensor bundle} is the bundle $TM^{\otimes p}\otimes T^*M^{\otimes q}$ when $p>0$ or $q>0$, and the trivial bundle $M\times\mathbb{R}$ when $p=q=0$.
        \item A smooth section of the $(p, q)$ tensor bundle is called a {\bf $(p, q)$ tensor field}.
        \item When $p>0$, $q>0$, there is a bundle homomorphism from the $(p, q)$ tensor bundle to $(p-1, q-1)$ tensor bundle, defined by 
        \[(a_1\otimes\dots\otimes a_p)\otimes (b^1\otimes \dots \otimes b^q)\mapsto (a_p, b^q)(a_1\otimes \dots \otimes a_{p-1})\otimes (b^1\otimes \dots \otimes b^{q-1})\]
        Where $(a_p, b^q)$ is the bilinear pairing between tangent and cotangent spaces.
    \end{itemize}
\end{dfn}

\begin{rmk}
    Under local coordinate chart we have:
    \begin{itemize}
        \item A $(p, q)$ tensor field can be written as (under Einstein's notation) $a^{i_1\dots i_p}_{j_1\dots j_q}\partial_{i_1}\otimes\dots\otimes \partial_{i_p}\otimes dx^{j_1}\otimes \dots \otimes dx^{j_q}$.
        \item The contraction map sends a tensor field with coefficient functions $a^{i_1\dots i_p}_{j_1\dots j_q}$ to one with coefficients $a^{i_1\dots i_{p-1}k}_{j_1\dots j_{q-1}k}$ (summing over all $k$, according to Einstein's notation).
        \item Riemannian metric is a $(0, 2)$ tensor field.
        \item A $(1, 1)$ tensor field is a bundle homomorphism from $TM$ to $TM$. Its contraction is the trace function.
    \end{itemize}
\end{rmk}


\newpage

\section{Flows, Lie derivatives, Foliations}

{\em Chapters 8, 9 and 19 of textbook}\\

Picard's theorem of the existence and uniqueness of solutions of ODE implies that:

\begin{thm}\label{flow}
    Let $M$ be a smooth manifold, $X$ a vector field on $M$. There is an open neighborhood $U=\bigcup_{x\in M}\{x\}\times I_x$ of $M\times \{0\}$ in $M\times \mathbb{R}$, where $I_x$ are open intervals containing $x$, and a map $\Psi: U\rightarrow M$ such that:
    \begin{itemize}
        \item $\Psi(x, 0)=x$
        \item For any $(x, r)\in U$, the value of $X$ at $\Psi(x, r)$ is represented by the path $t\mapsto \Psi(x, r+t)$. We can write this as ${d\over dt}\Psi(x, t)|_{t=r}=X(\Psi(x, r))$.
        \item $U$ is ``maximum'' in the following sense: if there is an interval $J$ containing $0$, a smooth map $\gamma: J\rightarrow M$ such that ${d\over dt}\gamma(t)|_{t=s}=X(\gamma(s))$, then $J\subseteq I_{\gamma(0)}$ and $\gamma(t)=\Psi(\gamma(0), t)$.
    \end{itemize}
    This $\Psi$ is called the {\bf flow} corresponding to vector field $X$.
\end{thm}

The proof is by the following Picard's Theorem for the existence of solutions of ODEs:

\begin{thm}[Picard's Theorem]
    Let $U$ be an open set in $\mathbb{R}^n$, $V\subseteq U$ a compact subset, $f: U\times\mathbb{R}\rightarrow\mathbb{R}^n$ smooth, then there exists some $\epsilon>0$ such that there is a map $Y: V\times(-\epsilon, \epsilon)\rightarrow U$, such that $Y(p, 0)=p$, and ${d\over dt}Y(p, t)=f(Y(p, t), t)$.
\end{thm}

Picard's Theorem can be proved by contraction principal or Euler's Method. To show Theorem \ref{flow} from Picard's Theorem, cover the manifold with smooth coordinate charts, such that the domain of each chart contains an open subset which is sent to the interior of a closed disc under coordinate chart, and these open subsets form an open cover of $M$. Now apply Picard's Theorem to the codomain of these coordinate charts, ``glue'' the resulting solutions together by uniqueness of solutions of ODEs.

\begin{rmk}
    If $X$ is compactly supported, the flow $\Psi$ is defined on $X\times\mathbb{R}$. The argument outlined above shows that there is some $\epsilon>0$ such that $M\times (-\epsilon, \epsilon)\subseteq U$. Making use of the fact that $\Psi(x, t+t')=\Psi(\Psi(x, t), t')$, we can extend the domain of $\Psi$ to $X\times\mathbb{R}$. 
\end{rmk}

\begin{exm}
    $M=\mathbb{R}$, if $X=\partial/\partial_x$, then $\Psi(x, t)=x+t$. If $X=x^2\partial_x$, then $\Psi(x, t)=\begin{cases} 0 & x=0\\ -1/(t-1/x) & x\not=0\end{cases}$.
\end{exm}

\begin{exm}\label{pen} $M=TS^1$, where $S^1$ is the unit circle $\{(\cos\theta, \sin\theta)\in \mathbb{R}^2\}$. Let $i$ be a coordinate chart on $S^1$ defined as $(\cos\theta, \sin\theta)\mapsto \theta$, then it induces a coordinate chart on $M$ which we denote as $I$, and $I(v)=(\theta, c)$ iff $v\in T_{(\cos\theta, \sin\theta)}S^1$, $v=c\partial_\theta$. 
\begin{itemize}
    \item The vector field $X$ on $M$ defined as $X(I^{-1}(\theta, c))=I^{-1}_*(c\partial_\theta)$ has flow $\Phi(I^{-1}(\theta, c), t)=c\partial_\theta|_{(\cos(\theta+ct), \sin(\theta+ct))}$. Physically this is traveling around the unit circle with constant speed.
    \item The vector field $Y$ defined as $X(I^{-1}(\theta, c))=I^{-1}_*(c\partial_\theta-\cos(\theta)\partial_c)$ represents the dynamics of the simple pendulum.
\end{itemize}    
\end{exm}

\begin{rmk}\label{geodesic}
    The vector field $X$ in Example \ref{pen} can also be written down under other coordinate charts. Suppose $j$ is another local coordinate chart on $S^1$, sending a point $p$ in some $U\subseteq S^1$ to $s\in \mathbb{R}$. Let $J$ be a coordinate chart on $T_U(S^1)$ defined as $J(v)=(s, d)$ iff $v\in T_{j^{-1}(s)}S^1$, $v=d\partial_s$. Then by Definition \ref{tancot},
    \[X(J^{-1}(s, d))=X(I^{-1}((i\circ j^{-1})s, (i\circ j^{-1})'|_s d))\]
    \[=I^{-1}_*((i\circ j^{-1})'|_s d\partial_\theta)=J^{-1}_*((i\circ j^{-1})'|_s d({\partial s\over\partial \theta}\partial_s+{\partial d\over\partial \theta}\partial_d))\]
    \[=J^{-1}_*((i\circ j^{-1})'|_s d((j\circ i^{-1})'|_{i(j^{-1}(s))}\partial_s+(i\circ j^{-1})'|_s (j\circ i^{-1})''|_{i(j^{-1}(s))}d\partial_d))\]
    \[=d\partial_s-{(i\circ j^{-1})''|_s\over (i\circ j^{-1})'|_s} d^2\partial_d\]

    Now consider a Riemannian metric on $S^1$ defined by $g=d\theta\otimes d\theta$, then under coordinate chart $J$ it becomes $g=(i\circ j^{-1})'^2 ds\otimes ds$. Let $g_{ss}=(i\circ j^{-1})'^2$, then 
    \[{(i\circ j^{-1})''|_s\over (i\circ j^{-1})'|_s} d^2={1\over 2}{\partial_s(g_{ss})\over g_{ss}}d^2\]
    This idea can be extended to higher dimension to get the {\bf geodesic flow}: let $M$ be a smooth manifold, $j$ a local coordinate chart sending points in $U\subseteq M$ to $(s^1, \dots, s^d)\in V\subseteq \mathbb{R}^d$, then a coordinate chart of $TM$ can be defined as $J: T_UM\rightarrow V\times\mathbb{R}^d$, $J(v)=(s^1, \dots s^d, p^1, \dots p^d)$ if $v\in T_{i^{-1}(s^1, \dots, s^d)}M$, $v=p^i\partial_{s^i}$. Let $g$ be a Riemannian metric defined as $g=g_{ij}ds^ids^j$, $[g^{ij}]=[g_{ij}]^{-1}$. Now we can define vector field on $TM$:
    \[X(J^{-1}(s^1,\dots, s^d, p^1,\dots, p^d)=J^{-1}_*(p^i{\partial\over \partial{s^i}}-g^{ij}({\partial g_{jk}\over\partial s^l}p^kp^l-{1\over 2}{\partial g_{kl}\over\partial s^j}p^kp^l){\partial\over \partial p^i})\]
    This definition is independent of the choice of $j$ (which will be left as a practice problem), hence the vector field is well defined.  
\end{rmk}

A key concept that one can define using flows is the {\bf Lie derivative}:

\begin{dfn}\label{lieder}
    Let $X$ be a smooth vector field, $\Phi$ the flow defined by $X$. By the theory of ODE we know that for small $t$, $\Phi_t: \cdot\mapsto \Phi(\cdot, t)$ is locally a diffeomorphism. We can now define the {\bf Lie derivative} which is a map from the set of smooth $(p, q)$ tensor fields to smooth $(p, q)$ tensor fields, as follows:
    \begin{enumerate}
        \item If $p=q=0$, i.e. the tensor field is a smooth function $f$, $L_X(f)$ is defined as
        \[(L_X(f))(x)={d\over dt}f(\Phi_t(x))|_{t=0}\]
        \item If $X_i$ are vector fields, $\alpha^j$ are $1$-forms, then
        \[(L_X(X_1\otimes\dots\otimes X_p\otimes \alpha^1\otimes\dots\otimes \alpha^q))(x)\]
        \[={d\over dt}\left(\bigotimes_i(\Phi_t)^{-1}_*X_i(\Phi_t(x))\otimes \bigotimes_j(\Phi_t)^*\alpha^j(\Phi_t(x))\right)|_{t=0}\]
        Here $(\Phi_t)^{-1}_*$ can also be written as $(\Psi_{-t})_*$.
    \end{enumerate}
\end{dfn}

Intuitively, Lie derivative described how fast a tensor field changes with the family of diffeomorphisms $\Phi_t$.

\begin{exm}
   $M=\mathbb{R}$, $X=x\partial_x$, $f(x)=x^3$, then $\Phi_t(x)=e^tx$, $(L_X(f))(x)=3x^3$.    
\end{exm}

\begin{rmk}
  $f\in C^\infty(M)$, then $L_Xf$ can also be denoted as $Xf$.    
\end{rmk}

\begin{thm}\label{lieprop}
    $X$, $Y$ are smooth vector fields, $f$ a smooth function, $a$, $b$ tensors.
    \begin{enumerate}
        \item $L_X(fa)=L_X(f)a+fL_X(a)$
        \item $L_X(a\otimes b)=L_X(a)\otimes b+a\otimes L_X(b)$
        \item $L_X$ commutes with contraction of tensors.
        \item $L_{L_X Y}f=L_XL_Yf-L_YL_Xf$
    \end{enumerate}
\end{thm}

\begin{proof}
  The proof of 1 and 2 are similar to the proof of product rule for derivatives. The proof of 3 is similar to the proof of linearlity of derivatives. For 4, without loss of generality assume $M=\mathbb{R}^n$, $X=X^i\partial_i$, $Y=Y^i\partial_i$, $L_X Y=Z^i\partial_i$. Let $F$ be the $\mathbb{R}^n$-valued function $(X^1, \dots, X^n)$, $G$ be the $\mathbb{R}^n$-valued function $(Y^1, \dots, Y^n)$, $H$ be the $\mathbb{R}^n$-valued function $(Z^1, \dots, Z^n)$.\\
  
  Now let $\Phi$ and $\Psi$ be the flows defined by $X$ and $Y$, $\Phi_t(\cdot)=\Phi(\cdot, t)$, $\Psi_t(\cdot)=\Psi(\cdot, t)$, then
  \[\Phi_t(c)=c+tF(c)+O(t^2)\]
  \[\Psi_t(c)=c+tG(c)+O(t^2)\]
  Now by definition, 
  \[(\Phi_{-t})_*Y(\Phi_t(c))={d\over ds}\Phi_{-t}\Psi_s\Phi_t(c)\]
  \[={d\over ds}(((c+tF(c)+O(t^2))+sG(c+tF(c)+O(t^2))+O(s^2))\]
  \[-tF((c+tF(c)+O(t^2))+sG(c+tF(c)+O(t^2))+O(s^2))+O(t^2))|_{s=0}\]
  \[=G(c+tF(c)+O(t^2))-t{d\over ds}F((c+tF(c)+O(t^2))+sG(c+tF(c)+O(t^2)))|_{s=0}\]
  So
  \[H={d\over dt}((\Phi_{-t})_*Y(\Phi_t(c)))|_{t=0}={d\over dt}G(c+tF(c))|_{t=0}-{d\over ds}F(c+sG(c))|_{s=0}\]
  Hence the $i$-th entry of $H$ is
  \[Z^i=X^j\partial_jY^i-Y^j\partial_jX^i\]
  So
  \[L_X Y=X^j(\partial_jY^i)\partial_i-Y^i(\partial_iX^j)\partial_j\]
  and 4 follows.
\end{proof}

\begin{rmk}
    Because a vector field $X$ can be recovered from $Xf$ for all smooth function $f$, the theorem \ref{lieprop} above provided a way to calculate Lie derivatives of any tensor field explicitly. 
\end{rmk}

\begin{rmk}
    $L_X Y$ can also be denoted as $[X, Y]$ and called the {\bf Lie Bracket}. It is easy to see from Theorem \ref{lieprop} part 4 that
    \[[X, Y]=-[Y, X]\]
    and there is the {\bf Jacobi identity}
    \[[X, [Y, Z]]+[Y, [Z, X]]+[Z, [X, Y]]=0\]
\end{rmk}
    
    Furthermore, from Theorem \ref{lieprop} part 4 and Green's theorem, we have the following:

    \begin{thm}\label{flowcomm}
      $[X, Y]=0$ iff the flows defined by $X$ and $Y$ commutes.
    \end{thm}\qed

    Combine Theorem \ref{flowcomm} and inverse function theorem, we have:
    \begin{thm}\label{commfoli}
      If $X_1, \dots, X_k$ are vector fields such that $[X_i, X_j]=0$, and are linearly independent everywhere, then for every $p\in M$ there is a local coordinate chart around $p$ such that the flow of $X_i$ under the chart is $((x^1, \dots, x^n), t)\mapsto (x^1, \dots, x^k+t, \dots, x^n)$.
    \end{thm}
    \begin{proof}
        Without loss of generality assume that $M$ is a open submanifold of $\mathbb{R}^n$. Consider the smooth function $\Phi: U\subseteq M\times \mathbb{R}^k\rightarrow M$, such that $M\times (0, \dots, 0)\subseteq U$, $\Phi(x, t_1, \dots, t_k)=\Phi^1_{t_1}\dots \Phi^k_{t_k}(x)$, where $\Phi^k$ is the flow defined by $X_k$ and $\Phi^k_t(x)=\Phi^k(x, t)$. Pick $n-k$ indices $i_1, \dots i_{n-k}$ such that the $i_1, \dots, i_{n-k}$-th standand basis together with $(X_1^j), \dots, (X_k^j)\in\mathbb{R}^k$ are linearly independent, and apply inverse function theorem to the map
        \[(t_1, \dots, t_k, s_1, \dots, s_{n-k})\mapsto \Phi((x^1, \dots, x^{i_1}+s_1, \dots, x^{i_k}+s_k, \dots), t_1, \dots, t_k)\]
        We see by construction that the inverse of the map above is a local coordinate chart satisfying our requirement.
    \end{proof}
    
\begin{rmk}\label{folrmk}
    By uniqueness of the solution of ODEs, the local coordinate charts defined in Theorem \ref{commfoli} has the property that if $i: U\rightarrow V$ and $i': U'\rightarrow V'$ be two coordinate charts, $p\in U\cap U'$, there is a neighborhood $W$ of $p$ such that on $i(W)$, if
    \[i'\circ i^{-1}(x^1, \dots, x^n)=(y^1, \dots, y^n)\]
    Then $(y^{k+1}, \dots, y^n)$ is a smooth function of $(x^{k+1}, \dots, x^n)$. If coordinate charts with this property form an atlas, we call this atlas a {\bf foliation of dimension $k$}.
\end{rmk}

\begin{exm}
    Flows are foliations of dimension 1. 
\end{exm}

\begin{rmk}
    If $A$ is a foliation of dimension $k$ on smooth manifold $M$, for every $i: U\rightarrow V$ in $A$, we can decompose $U$ with immersed submanifolds $i^{-1}(\{(x^1, \dots, x^k, c^{k+1}, \dots, c^n): x^1, \dots, x^k\in\mathbb{R}, (x^1, \dots, x^k, c^{k+1}, \dots, c^n)\in V\})$. The definition of foliation means that if two such immersed submanifolds intersects, their union is also an immersed submanifold. Patch the intersecting immersed submanifolds together we can get a collection of path connected immersed submanifolds whose union is $M$, these submanifolds are called {\bf leaves} of foliation $A$. 
\end{rmk}

One can weaken the aassumption of Theorem \ref{commfoli} while still getting a foliation:

\begin{thm}[Frobenious Theorem]
    Let $D\subseteq TM$ be a rank $k$ subbundle (we call this a {\bf distribution}, note that this is unrelated to the concept of distribution in analysis). Then the followings are equivalent:
    \begin{enumerate}
        \item For any two smooth sections $X$ and $Y$ of $D$, $[X, Y]$ is a smooth section of $D$.
        \item There is a foliation on $M$ of dimension $k$, such that at every $p\in M$, let $N_p$ be the leaf passing through $p$, $i_p: N_p\rightarrow M$ be the embedding map, then $(i_p)_*(T_pN_p)=D_p$. This is called the {\bf foliation defined by distribution $D$}.
    \end{enumerate}
\end{thm}

\begin{proof}
    2 implies 1 is obvious. To show 1 implies 2, we need to build the foliation from distribution $D$. \\

    We will show, by induction on $k$, that around every point $p\in M$, there are smooth sections $X_1, \dots, X_k$ of $D$, such that $[X_i, X_j]=0$ and $X_1, \dots, X_k$ are linearly independent on this neighborhood, then we can apply Theorem \ref{commfoli} to them to get the coordinate charts that can be used to define this foliation. The case when $k=1$ is trivial because $[X, X]=0$ for any vector field $X$.\\

    If $k>1$, we first pick some section $X_1, \dots, X_k$ of $D$, which are linearly independent on a neighborhood of $p$. Apply Theorem \ref{commfoli} to $\{X_1\}$, we get a local coordinate chart under which the flow defined by $X_1$ is $\Phi^1_t(x^1, \dots, x^n)=(x^1+t, x^2, \dots, x^n)$, i.e. $X_1=\partial_1$. Then for $j=2, \dots, k$, $X_j=X^i_j\partial_i$. Without loss of generality we can assume that $X^1_j=0$ for all $j$, then $[X_1, X_j]=\sum_{k>1}a^kX_k$. By solving an ODE (with $x^1$ being the variable), we can find non-zero smooth functions $c_2, \dots, c_k$ such that $[X_1, c_jX_j]=0$. Write down $[\cdot, \cdot]$ using local coordinates we see that ${\partial\over \partial x^1}c_jX^i_j=0$ for all $j, i>1$, in other words, the formula of $c_jX_j$ under the local coordinate chart does not contain $x^1$. Now apply the inductive hypothesis on $c_2X_2, \dots, c_kX_k$.
\end{proof}

\begin{exm}
If $f: M\rightarrow N$ is a smooth submersion, $E=\{v\in TM: f_*(v)=0\}$, then $E$ is a distribution that satisfies Frobenious theorem and hence defines a foliation. The leaves of this foliation are the connected components of the level sets. This is because from Theorem \ref{flow}, we know that
if $f_*(X(p))=X'(f(p))$, $\Phi_t$, $\Phi'_t$ are the flows defined by $X$
 and $X'$, then $\Phi'_t(f(p))=f(\Phi_t(p))$. Hence, from Definition \ref{lieder}, we know that if $f_*(Y(p))=Y'(f(p))$, then
 \[f_*([X, Y](p))=[X', Y'](f(p))\]
 \end{exm}

\begin{exm}
    If $G$ is a Lie group, let $g$ be the space of vector fields on $G$ which is invariant under left multiplication, then $g$ is isomorphic to $T_eG$ as a vector space and also closed under $[\cdot, \cdot]$. $(g, [\cdot, \cdot])$ is called the {\bf Lie Algebra} of Lie group $G$.\\

    As an example, suppose $G=GL(2, \mathbb{R})$, 
    \[X(g)={d\over dt}g\left[\begin{array}{cc}1 & t\\ 0 & 1\end{array}\right]|_{t=0}\] \[Y(g)={d\over dt}g\left[\begin{array}{cc}1 & 0\\ t & 1\end{array}\right]|_{t=0}\]
    Then under local coordinate charts \[i^{-1}: (x^1, x^2, x^3, x^4)\mapsto \left[\begin{array}{cc}1+x^1 & x^2\\x^3 & 1+x^4\end{array}\right]\], we have
    \[X=(1+x^1)\partial_2+x^3\partial_4\]
    \[Y=x^2\partial_1+(1+x^4)\partial_3\]
    So
    \[[X, Y]=(1+x^1)\partial_1+x^3\partial_3-x^2\partial_2-(1+x^4)\partial_4={d\over dt}g\left[\begin{array}{cc}1+t & 0\\ 0 & 1-t\end{array}\right]|_{t=0}\]
\end{exm}

\newpage

\section{Sard's theorem and Whitney's embedding}

{\em Chapter 6 of textbook}\\

Let $f: M\rightarrow N$ be a smooth map. We say $y\in N$ is a {\bf regular value}, if either $f^{-1}(y)$ is empty, or for every $x\in f^{-1}(y)$, the map $f$ is locally a submersion around $x$. Other points of $N$ are called {\bf critical values}.\\

We say a subset $A\subseteq M$ is a {\bf null set}, if for any coordinate chart $i: U\rightarrow V$, $i(A\cap U)$ has Lebesgue measure $0$. It is easy to see that to check a set is a null set one only need to check the coordinate charts of any compatible smooth atlas.

\begin{thm}[Sard's Theorem]\label{sard}
    Let $f: M\rightarrow N$ be a smooth map, then the set of critical values is a null set in $N$.
\end{thm}

The intuition is that if $y\in N$ is a critical value, the preimage of a tiny neighborhood of $y$ must be much larger in $M$. Hence the measure of the set of critical values can not be too large.\\

\begin{exm}\label{imgnull}
    If $\dim(M)<\dim(N)$, every point in $f(M)$ is a critical value. Hence Sard's theorem implies that $f(M)$ is a null set of $N$, in particular $f(M)\not=N$. As a consequence, even though there are continuous space filling curves, there can not be any smooth curve that fills higher dimensional spaces.
\end{exm}

\begin{thm}\label{emb0}
    If $M$ is an embedded submanifold of $\mathbb{R}^N$, $\dim(M)=n$, then $M$ is diffeomorphic to an embedded submanifold of $\mathbb{R}^{2n+1}$.
\end{thm}

\begin{proof}
    If $N\leq 2n+1$ this is trivial. So assume $N>2n+1$, then the unit sphere $S$ in $\mathbb{R}^N$ is a smooth manifold of dimension $N-1$. Consider $f: M\times M\backslash \{(x, x): x\in M\}\rightarrow S$ defined as $(x, y)\mapsto (x-y)/dist_{\mathbb{R}^N}(x, y)$, where $dist_{\mathbb{R}^N}$ is the Euclidean distance, then by Example \ref{imgnull} the image of $f$ is a null set in $S$. Consider $g: TM\backslash \{\text{image of zero section}\}\rightarrow S$ as $g(v)=N(i_*(v))$, where $i: M\rightarrow\mathbb{R}^N$ is the embedding and $N(a^i\partial_{x^i})={1\over \sum_{i=1}^N(a^1)^2}(a^1, \dots, a^N)\in S$, then by Example \ref{imgnull} the image of $g$ is also a null set in $S$. Hence there is some $v\in S$ which is not in the image of either $f$ or $g$. Composing with orthogonal projection on $v^\perp$ we get an embedding of $M$ into $\mathbb{R}^{N-1}$. 
\end{proof}

\begin{thm}[Whitney's Weak Embedding Theorem]\label{whiemb}
    Any smooth manifold of dimension $n$ has an embedding into $\mathbb{R}^{2n+1}$.
\end{thm}

\begin{proof}
    If the manifold $M$ can be covered by the domains of finitely many coordinate charts $i_k: U_k\rightarrow V_k$, let $\{f_k\}$ be the partition of unity function for the finite open cover $\{U_k\}$, then $M$ can be embedded into some $\mathbb{R}^N$ as
    \[x\mapsto (f_1(x)i_1(x), f_1(x), f_2(x)i_2(x), f_2(x), \dots)\]
    Here $f_k(x)i_k(x): M\rightarrow \mathbb{R}^n$ is defined as the zero vector if $x\not\in U_k$. Now apply Theorem \ref{emb0}, we see that $M$ can be embedded into $\mathbb{R}^{2n+1}$.\\

    In general, apply Lemma \ref{lem12para}, find a countable cover of the manifold $N$ by domains of coordinate charts, denote these domains as $U_1, U_2, \dots$. Let $f_i$ be the partition of unity function for the open cover $\{U_k\}$, let $F=\sum_n nf_n$, then $F\geq 1$ and $F^{-1}(I)$ for any finite interval $I$ can be covered by finitely many $U_k$. For all positive integers $i$, let $I_i=(i-1, i+1)$, then $\{I_i\}$ is an open cover of $(0, \infty)$ hence has a set of partition of unity functions $g_i$. Because $F^{-1}(I_i)$ can be covered by finitely many coordinate charts, let $\phi_i$ be an embedding of $F^{-1}(I_i)$ into $\mathbb{R}^{2n+1}$. Now there is an embedding of $M$ into $\mathbb{R}^{4n+3}$ defined as
    \[x\mapsto (\sum_{i\text{ odd}, F(x)\in I_i}g_i(F(x))\phi_i(x), \sum_{i\text{ even}, F(x)\in I_i}g_i(F(x))\phi_i(x), F(x))\]
    Here summation is the zero vector if the index set is empty.
    Now apply Theorem \ref{emb0} again one gets the conclusion.
\end{proof}

With ``Whitney trick'' one can strengthen the embedding theorem to embedding into $\mathbb{R}^{2n}$.\\

Combining Theorem \ref{whiemb} and Theorem \ref{approx2}, we get:

\begin{thm}[Whitney's Smooth Approximation for Maps]\label{approx3}
Let $M$, $N$ be smooth manifolds, $f$ a continuous map from $M$ to $N$, which is smooth on closed set $A$. Then there is a smooth map $g: M\rightarrow N$ such that there is a continuous map $H: M\times [0, 1]\rightarrow N$, $H(x, 0)=f(x)$, $H(x, 1)=g(x)$, $H(x, t)=f(x)$ if $x\in A$. (This is called {\bf $f$ is homotopic to $g$ relative to $A$}).
\end{thm}

\begin{proof}
   Let $i: N\rightarrow\mathbb{R}^K$ be an embedding which exist due to Theorem \ref{whiemb}.  Consider the rank $K$ bundle over $N$ $i^*(T\mathbb{R}^K)$. For any $x\in N$, the fiber of this bundle is $T_x\mathbb{R}^K=\{a^i\partial_i\}$. We identify this with $\mathbb{R}^K$ by $a^i\partial_i\mapsto (a^1, \dots, a^K)$, and give it a positive definite quadratic form via the Euclidean dot product. $TN$ is a rank $\dim(N)$-subbundle by the map $i_*$, let $\mathcal{N}$ be the orthogonal complement of $TN$ in $i^*(T\mathbb{R}^K)$. Now consider a smooth map $F: \mathcal{N}\rightarrow \mathbb{R}^K$, sending $a^i\partial_i\in T_(x^1, \dots, x^K)\mathbb{R}^K$ to $(x^1+a^1, \dots, x^K+a^K)$. It is easy to see that $F$ is full rank on the image of the zero section, hence when restricted to an open neighborhood $V_0$ of this zero section, $F$ is a diffeomophism from $V_0$ to a neighborhood $U$ of $N$.\\

   Now apply Theorem \ref{approx2} to $f$, we get a smooth map $g_1: M\rightarrow U$ such that $g_1=f$ on $A$, and the interval in $\mathbb{R}^K$ linking $f$ to $g_1$ is completely contained in $U$. Let $g=\pi\circ F^{-1}\circ g_1$, and $H(x, t)=\pi\circ F^{-1}\circ((1-t)f(x)+tg(x))$. Here $\pi$ is the projection map for the bundle $\mathcal{N}$.
\end{proof}

\begin{rmk}
    The neighborhood $U$ is called the {\bf tubular neighborhood} of the embedding from $N$ to $\mathcal{R}^K$. Tubular neighborhoods can be constructed for any embedding between smooth manifolds, by replacing the map $F$ with the geodesic flow (see Remark \ref{geodesic}).
\end{rmk}

\begin{rmk}\label{smhomotop}
    If $H: M\times [0, 1]\rightarrow N$ is smooth (here $M\times [0, 1]$ is seen as a manifold with boundary (Definition \ref{mwb}), $f: M\rightarrow N$ and $g: M\rightarrow N$ satisfy $f(x)=H(x, 0)$, $g(x)=H(x, 1)$, then we say $f$ and $g$ are {\bf smoothly homotopic}. Theorem \ref{approx3} implies that, between two smooth manifolds,
    \begin{itemize}
        \item Any continuous map is homotopic to a smooth map.
        \item Any two smooth maps that are homotopic must be smoothly homotopic.
        \item Any two smooth maps that are homotopic to the same continuous map must be smoothly homotopic.
    \end{itemize}
\end{rmk}

\begin{proof}[Proof of Theorem \ref{sard}]
    Because countable union of null sets are null sets, and manifolds are second countable, we can without loss of generality assume both $M$ and $N$ be open submanifolds of $\mathbb{R}^m$ and $\mathbb{R}^n$ respectively.\\

    Now induction on $m$: if $m=0$ this is obvious. Now assume $m>0$. Let $C_k$ be the set of points in $M$ where $D^kf=0$, $C$ be the set of points in $M$ where $rank(f)<n$.

    \begin{itemize}
        \item $f(C\backslash C_1)$ is a null set:  do coordinate change one can assume without loss of generality that $f(x^1, \dots, x^m)=(x^1, \dots)$. Now apply inductive hypothesis and Fubini. 
        \item $f(C_k\backslash C_{k+1})$ is null: by rank theorem $C_k\backslash C_{k+1}$ is contained in some submanifold of lower dimension. Now use inductive hypothesis.
        \item When $k$ is sufficiently large, $f(C_k)$ is null: decompose $M$ into tiny squares, and see that under the map $f$ a square of diameter $r$ will be sent into a square of diameter $o(r^k)$.
    \end{itemize}
\end{proof}

\newpage

\section{Exterior Derivatives, Integration and Stokes theorem}

{\em Chapters 14-16 in textbook}\\

Reasons we care about exterior products and differential forms:

\begin{itemize}
    \item We want to do {\bf definite integrals} on manifolds.
    \item We want to study when a 1-form can be written as $df$.
\end{itemize}

Let $V$ be a $n$ dimensional vector space over $\mathbb{R}$ or $\mathbb{C}$. $\sigma\in S_k$ a {\bf permutation} (bijection from $\{1, \dots, k\}$ to $\{1, \dots, k\}$). Recall that the {\bf parity} of $\sigma$ is $sgn(\sigma)=\prod_{i<j}{\sigma(i)-\sigma(j)\over |\sigma(i)-\sigma(j)|}$.  $\sigma$ induces a self map on $V^{\otimes k}$ defined as
\[a_1\otimes \dots \otimes a_k\mapsto a_{\sigma(1)}\otimes \dots a_{\sigma(k)}\]

\begin{itemize}
    \item The {\bf $k$-th exterior product} of $V$ is the subspace of $V^{\otimes k}$ such that $\sigma(x)=sgn(\sigma)x$ for all $\sigma\in S_k$, denoted as $\bigwedge^k V$
    \item $\dim(\bigwedge^k V)={n\choose k}$
    \item There is a surjection from $V^{\otimes k}$ to $\bigwedge^k V$, defined as
    \[A: x\mapsto {1\over k!}\sum_{\sigma\in S_k}sgn(\sigma)\sigma(x)\]
    We denote $A(a_1\otimes a_2\dots \otimes a_k)$ as $a_1\wedge a_2\dots \wedge a_k$.
    \item A linear map $f$ from $V$ to $W$ induces a linear map $\bigwedge^k f: \bigwedge^k V\rightarrow \bigwedge^k W$: $a_1\wedge a_2\dots \wedge a_k\mapsto f(a_1)\wedge f(a_2)\wedge\dots\wedge f(a_k)$. If $f$ is isomorphism so is $\wedge^k f$. It is easy to see that $A\circ \bigotimes^k f=\bigwedge^k f\circ A$, where $\bigotimes^k f$ is the map from $\bigotimes^k V$ to $\bigotimes^k W$ induced by $f$.
    \item If $f$ is a self map on $V$, $\bigwedge^n f=\det(f)$.
\end{itemize}

Similar to tensors of vector bundles, if $E$ is a vector bundle one can also define $\bigwedge^k E$ as a vector bundle. We can do so via the idea of kernel bundles as in Definition \ref{constvb}, or by specifying the transition functions as in Remark \ref{consttran} and Remark \ref{tvb}. Note that if $k>rank(E)$ this would be a rank $0$ vector bundle.

\begin{dfn}
    A smooth section $\alpha$ of $\bigwedge^k T^*M$ is called a {\bf smooth $k$-form}, denoted as $\alpha\in\Omega^k(M)$.
\end{dfn}

\begin{rmk}
    If $f: M\rightarrow N$ is a smooth map, the pull backs of smooth $1$-forms induces pullbacks of smooth $k$-forms. Let $\alpha\in \Omega^k(N)$, then $(f^*(\alpha))(x)=(\bigwedge^k f^*)(\alpha(f(x)))$.
\end{rmk}

\begin{dfn}
    Let $M$ be a smooth manifold and $E$ a vector bundle over $M$. We say $E$ is {\bf orientable} if it has a set of trivializations where the transition function have positive determinant. A maximal set of such local trivializations is called an {\bf orientation} (compare this with the definition of smooth structure in Remark \cite{ssts}). We say $M$ is {\bf orientable} iff $TM$ is orientable, and an {\bf orientation} on $M$ is an orientation on $TM$.
\end{dfn}

\begin{thm}
    The followings are equivalent:
    \begin{enumerate}
        \item $TM$ is orientable.
        \item $T^*M$ is orientable.
        \item There is an atlas of $M$ such that $D(i'\circ i^{-1})$ always have positive determinant.
    \end{enumerate}
\end{thm}

\begin{proof}
    1 and 2 are equivalent because $TM$ and $T^*M$ are isomorphic due to the existence of Riemannian metric (Theorem \ref{extrie}). If 3 is true, use the trivialization of $TM$ in Definition \ref{tancot}, then 1 follows. If 1 is true, pick an orientation $\mathcal{O}$ for $TM$, and a smooth atlas with path connected domains. For each chart in the atlas, if the corresponding trivialization is not in $\mathcal{O}$, replace it with its composition with $(x^1, x^2,\dots)\mapsto (-x^2, x^2, \dots)$.
\end{proof}

\begin{dfn}
    Let $M$ be a smooth manifold with an orientation and dimension $n$, let $C$ be a countable open cover by domains of an atlas which is compatible with this orientation, such that the closure of each element of $C$ is homeomorphic to a closed disc (their existence is due to Lemma \ref{lem3pu}). Let $\{f_U\}$ be a partition of unity corresponding to $C$, then $f_U$ all have compact support. Now let $\alpha$ be a smooth $m$ form, we define the {\bf integral} of $\alpha$ on $M$ as follows: \\

    For each $U\in C$, each chart $i: U\rightarrow V$ in the aforementioned atlas, let $(i^{-1})^*(f_U\alpha)=g_U dx^1\wedge \dots \wedge dx^n$, then
    \[\int_M \alpha=\sum_{U\in C}\int_{\mathbb{R^n}}g_Udx^1dx^2\dots dx^n\]
    Here the integral is the usual Riemann or Lebesgue integral.
\end{dfn}

\begin{rmk}\label{intinv}
    Because the transition function of $\wedge^n T^*U$ between trivializations defined in Definition \ref{tancot} is $t_{VU}(p)=\wedge^n(D(i_U\circ i_V^{-1})|_{i_V(p)})^T=\det(D(i_U\circ i_V^{-1})|_{i_V(p)})$, and standard argument from analysis, we know that {\bf if $\alpha$ is compactly supported, or if $a$ is non negative function times $dx^1\wedge\dots\wedge dx^n$} (hence all the integrals involved are non negative), $\int_M \alpha$ defined above is indepent of the choice of coordinate charts and $\{f_U\}$. 
\end{rmk}

\begin{exm}
    Let $M$ be a smooth manifold with a Riemannian metric $g$, with an atlas $\mathcal{A}$ correspond to a given orientation $\mathcal{O}$, we can define the {\bf volume} form as
    \[\omega_g|_U=i^*((\det([g(\partial_i, \partial_j)]_{1\leq i, j, \leq n}))^{1/2}dx^1\wedge \dots \wedge dx^n)\]
    for every $i: U\rightarrow V\subseteq\mathbb{R}^n$ in $\mathcal{A}$. $\int_M \omega$ is called the {\bf volume} of $M$.\\

    In the case of unit sphere $S^2$ in $\mathbb{R}^3$, let $i$ be the embedding map, then $g=i^*(dx^1\otimes dx^1+dx^2\otimes dx^2+dx^3\otimes dx^3)$ is a Riemannian metric on $S^2$, and the volume corresponding to this metric is $4\pi$. To show that, consider coordinate chart 
    \[i: \{(x, y, z): x^2+y^2+z^2=1, z\not=1\}\rightarrow \{(u, v)\in \mathbb{R}^2\}\]
    As the complement of the domain of $i$ is just a single point hence has volume can be calculated via this coordinate chart.\\

    \[i^{-1}(u, v)=({2u\over u^2+v^2+1}, {2v\over u^2+v^2+1}, 1-{2\over u^2+v^2+1})\]
    \[\partial_u=({2(v^2-u^2+1)\over u^2+v^2+1}\partial_x+ {-4uv\over u^2+v^2+1}\partial_y+{4u\over u^2+v^2+1})\partial_z\]
    \[\partial_v={-4uv\over u^2+v^2+1}\partial_x+ {2(u^2-v^2+1)\over u^2+v^2+1}\partial_y+{4v\over u^2+v^2+1}\partial_z\]
    So 
    \[g(\partial_u, \partial_v)=g(\partial_v, \partial_u)=0\]
    \[g(\partial_u, \partial_u)=g(\partial_v, \partial_v)={4\over (u^2+v^2+1)^2}\]
    So
    \[\int_{S^2}\omega_g=\int_{\mathbb{R}^2}{4dudv\over (u^2+v^2+1)^2}=4\pi\]
\end{exm}

Now we consider the question {\bf when is a 1-form of the form $df$}: let $\alpha$ be a 1-form, $X$, $Y$ two vector fields. We denote the pairing between $X$ and $\alpha$, or the contraction of $X\otimes \alpha$, as $\alpha(X)$. Then, suppose $\alpha=df$, we have $\alpha(X)=Xf$, hence
\[X(\alpha(Y))-Y(\alpha(X))-\alpha([X, Y])=0\]
The left hand side is clearly bilinear and anti symmetric with respect to $X$ and $Y$. Furthermore, if $X$ or $Y$ equals $0$ at a point then the left hand side equals $0$ at that point: for example, if $X(x)=0$, then at $x$, we have
\[Y(\alpha(X))=L_Y(\alpha(X))=(L_Y\alpha)(X)+\alpha([Y, X])=\alpha([Y, X])\]
Hence at point $x$,
\[X(\alpha(Y))-Y(\alpha(X))=0-\alpha([Y, X])-\alpha([X, Y])=0\]

 As a consequence, the value of the left hand side at $x\in M$ is an antisymmetric bilinear form on $T_xM$, i.e. an element in $\bigwedge^2 T^*M$. Now we have a linear map $d: \Omega^1(M)\rightarrow \Omega^2(M)$, defined as
\[(d\alpha)(X, Y)=X\alpha(Y)-Y\alpha(X)-\alpha([X, Y])\]

Generalizing this to $k$ forms, we have the following definition:

\begin{dfn}\label{dfnext}
    The {\bf exterior derivative} $d: \Omega^k(M)\rightarrow \Omega^{k+1}(M)$ is defined as
    \[(d\alpha)(X_1, \dots, X_{k+1})=\sum_{i=1, \dots, k+1}(-1)^{i-1}X_i(\alpha(X_1, \dots, X_{i-1}, X_{i+1},\dots, X_{k+1})\]
    \[+\sum_{1\leq i<j\leq k+1}(-1)^{i+j}\alpha([X_i, X_j], X_1, \dots, X_{i-1}, X_{i+1}, \dots, X_{j-1}, X_{j+1},\dots, X_{k+1})\]
\end{dfn}

\begin{rmk}
    We can consider a smooth function $f$ as a 0-form. Then according to Definition \ref{dfnext}, $df(X)=Xf$, which is consistent with the notation in Example \ref{exmsec}.
\end{rmk}

\begin{rmk}\label{ddexp}
    Under local coordinate charts, we have, from Definition \ref{dfnext},
    \[d(a_{i_1\dots i_k}dx^{i_1}\wedge \dots \wedge dx^{i_k})=(\partial_j a_{i_1\dots i_k}) dx^j\wedge dx^{i_1}\wedge \dots \wedge dx^{i_k}\]
    As a consequence, $d\circ d=0$.
\end{rmk}

The idea of $k$-forms and integration can be extended to manifold with boundary (Definition \ref{mwb}). Stoke's Theorem for manifold is a generalization of the fundamental theorem of calculus, and relates the integral of a form on the boundary of a manifold with the integral of the form on the manifold itself. 

\begin{exm}\label{stoexm}
    Consider the manifold with boundary $M=[0, \infty)\times\mathbb{R}^{n-1}$, a $k$-form can be written as $\omega=a_1dx^2\wedge dx^3\wedge\dots \wedge dx^n+a_2dx^1\wedge dx^3\wedge\dots\wedge dx^n+\dots+a_ndx^1\wedge \dots \wedge dx^{n-1}$. Suppose $\omega$ has compact support. Then $d\omega={\partial_1a_1}dx^1\wedge dx^2\wedge\dots\wedge dx^n+{\partial_2a_2}dx^2\wedge dx^1\wedge\dots$
    By fundamental theorem of calculus and Fubuni's theorem, \[\int_M {\partial_ka_k}dx^1dx^2\dots dx^n=\begin{cases} 0 & k>1\\ \int_{\mathbb{R}^{n-1}}a_1(0, t_1, t_2,\dots, t_{n-1})dt_1dt_2\dots dt_{n-1} & k=1\end{cases}\]
    So if we pick the orientation on $\partial M$ as the one defined by coordinate chart $(0, x^2,\dots, x^n)\mapsto (-x^2, x^3, \dots x^n)$, then $\int_M d\omega=\int_{\partial M}\omega$.
\end{exm}

\begin{dfn}
    Let $M$ be a smooth manifold with boundary of dimension $n$ with an orientation, $\mathcal{A}$ a smooth atlas consistent with the orientation of $M$. For each element $i$ of $\mathcal{A}$ that sends an open set  $U\subseteq M$ to an open set of $[0, \infty)\times\mathbb{R}^{n-1}$, it induces a map $j$ from $U\cap\partial M$ to $\mathbb{R}^{n-1}$ defined as follows:
    If $i(p)=(0, x^2, \dots, x^n)$, then $j(p)=(-x^2, x^3, \dots, x^n)$.
    The maps $j$ form a smooth atlas of $\partial M$ which gives it an orientation, and we call this the {\bf induced orientation} on the boundary $\partial M$.
\end{dfn}

\begin{thm}[Stoke's Theorem]
    Let $M$ be a smooth manifold with boundary of dimension $n$ and $\partial M$ the set of boundary points with the induced orientation. Let $\omega$ be a compactly supported smooth $n-1$-form, then $\int_M d\omega=\int_{\partial M}\omega$.
\end{thm}

\begin{proof}
    Cover $M$ with domains of smooth coordinate charts that are compatible with the orientation on $M$, use partition of unity to split $\omega$, then apply Example \ref{stoexm} above.
\end{proof}

\begin{exm}
    Let $M$ be the closed unit disc in $\mathbb{R}^2$, $\omega=ydx$. Then \[\int_\partial M ydx=\int_0^{2\pi} \sin(t)d\cos(t)=-\int_0^{2\pi}\sin^2(t)dt=-\pi\]
    \[\int_M d(ydx)=\int_M dy\wedge dx=-\int_M dxdy=-\pi\]
\end{exm}

\newpage

\section{De Rham Theory}
    Let $M$ be a smooth manifold of dimension $n$, recall from the previous section, we let $\Omega^k(M)$ be the $\mathbb{R}$-vector space of smooth $k$ forms on $M$. Here $\Omega^0(M)=C^\infty (M)$. Let $d^k: \Omega^k(M)\rightarrow \Omega^{k+1}(M)$ be the exterior derivative. Then by Remark \ref{ddexp}, $d^{k+1}\circ d^k=0$.

    \begin{dfn}
        The $k$-th {De Rham cohomology} of a smooth manifold $M$ is defined as $H^k(M)=\ker(d^k)/im(d^{k-1})$. When $k=0$, $im(d^{k-1})$ is assumed to be the zero map $0\rightarrow \Omega^0(M)$.    \end{dfn}

    \begin{rmk}
        It is easy to see that $H^0(M)\cong\mathbb{R}^m$ where $m$ is the number of connected components of $M$, and $H^k(M)=0$ if $k>\dim(M)$.
    \end{rmk}
    
    \begin{rmk}
        If $M$, $N$ are smooth manifolds, $f: M\rightarrow N$ induces maps $f^*: H^k(N)\rightarrow H^k(M)$ by $f^*([\alpha])=[f^*(\alpha)]$.  \end{rmk}
\begin{thm}[Homotopy invariance]
    Let $M$, $N$ be two smooth manifolds, $f$, $g$ two smooth maps from $M$ to $N$. If there is a smooth map $H: M\times [0, 1]\rightarrow N$ such that $H(x, 0)=f(x)$, $H(x, 1)=g(x)$ (i.e. $f$ and $g$ are smoothly homotopic, see Remark \ref{smhomotop}), then $f^*: H^k(N)\rightarrow H^k(M)$ and $g^*: H^k(N)\rightarrow H^k(M)$ are identical.
\end{thm}

\begin{proof}
    To show this we only need to show that there is a {\bf chain homotopy}, which are linear maps $h: \Omega^k(N)\rightarrow \Omega^{k-1}(M)$ such that as maps from $\Omega^k(N)$ to $\Omega^k(M)$, 
    \[g^*-f^*=d\circ h+h\circ d\]
    Any coordinate chart $i: U\rightarrow V\subseteq \mathbb{R}^m$ induces a diffeomorphism from $U\times [0, 1]\subseteq M\times [0, 1]$ to $V\times [0, 1]\subseteq \mathbb{R}^m\times [0, 1]$, sending $(p, t)$ to $(i(p), t)$. For any $\omega\in \Omega^k(N)$, under this diffeomorphism we can write $H^*(\omega)$ locally as
    \[a_{j_1\dots j_{k-1}}dt\wedge dx^{j_1}\wedge\dots\wedge dx^{j_{k-1}}+b_{l_1\dots l_k}dx^{l_1}\wedge\dots \wedge dx^{l_k}\]
    Now let
    \[h(\omega)=(\int_0^1 a_{j_1\dots j_{k-1}}dt)dx^{j_1}\wedge\dots\wedge dx^{j_{k-1}}\]
\end{proof}

\begin{rmk}
    By Remark \ref{smhomotop}, any continuous map between two smooth manifolds induces a map on $H^k$, which we define as the one induced by the smooth map homotopic to it. Such a definition is well defined, and two continuous maps that are homotopic would induce the same map on $H^k$.
\end{rmk}

\begin{exm}\label{star}
    If $U$ is an open submanifold of $\mathbb{R}^n$ that satisfies $x\in U\implies tx\in U$ for all $t\in [0, 1]$ (called {\bf star shaped}), then the identity map and the constant map sending every point to $0$ are smoothly homotopic. Hence $H^k(U)=\begin{cases}
        \mathbb{R} & k=0\\
        0 & k>0
    \end{cases}$
\end{exm}

We will illustrate the process for calculating De Rham cohomology via the example below:

\begin{exm}
    Suppose smooth manifold $M$ has an open cover $C=\{U_{\alpha}\}$, each $U_\alpha$ is diffeomorphic to a star shaped region. For each pair $(\alpha, \beta)$, $U_\alpha\cap U_\beta$ is either empty or diffeomorphic to a star shaped region, in which case we denote it as $U_{\alpha\beta}$. Similarly for the intersections of three elements in $C$. Let $I_1=\{\alpha\}$ be the set of indices of the cover $C$, $I_2=\{(\alpha, \beta)\in I_1^2: U_\alpha\cap U_\beta\not=\emptyset\}$, $I_3=\{(\alpha, \beta, \gamma)\in I_1^3: U_\alpha\cap U_\beta\cap U_\gamma\not=\emptyset\}$,\\

    Now pick any $[\omega]\in H^1(M)$, where $\alpha\in \Omega^1(M)$, $d\omega=0$. 

    \begin{itemize}
    \item By Example \ref{star}, for each $U_\alpha$ we can find a smooth function $f_{\alpha}\in C^\infty(U_\alpha)=\Omega^0(U_\alpha)$ such that $df_\alpha|_{U_\alpha}=\omega|_{U_\alpha}$.
    \item For each $U_{\alpha\beta}=U_\alpha\cap U_\beta$ which is non-empty, $f_\alpha-f_\beta$ on $U_{\alpha\beta}$ is a constant, because on $U_\alpha\beta$,
    \[d(f_\beta-f_\alpha)=\omega-\omega=0\]
    Now $(\alpha, \beta)\mapsto f_{\beta}-f_{\alpha})|_{U_{\alpha\beta}}$ gives an element $a_f=\mathbb{R}^{I_2}$.
    \item Define $d'_1: \mathbb{R}^{I_1}\rightarrow\mathbb{R}^{I_2}$ as $(d'_1(a))(\alpha, \beta)=a(\beta)-a(\alpha)$, and $d'_2: \mathbb{R}^{I_2}\rightarrow \mathbb{R}^{I_3}$ as $(d'_2(a))(\alpha, \beta, \gamma)=a(\beta, \gamma)-a(\alpha, \gamma)+a(\alpha, \beta)$. By calculation, we see that:
    \begin{itemize}
        \item The $a_f$ above must be in $\ker(d'_2)$.
        \item If we pick a different $w$ as the representative of a given De Rham cohomology class, and pick different $f_\alpha$, the resulting $a_f$ can only differ by an element of $im(d'_1)$.
    \end{itemize}
    As a consequence, there is a linear map $H^1(M)\rightarrow \ker(d'_2)/im(d'_1)$.
    \item By partition of unity (see Practice Problem 2 of Week 5) we can show this is a bijection.
    \end{itemize}

    The above argument can be seen very explicitly in for example $S^1$ or $S^2$.
\end{exm}

\newpage

\section{Review and Further Topics}

Key Concepts and Results:

\begin{itemize}
    \item Definition of manifolds and smooth manifolds
    \item Partition of Unity
    \item Rank Theorem, Embedding, Immersion and Submersion.
    \item Vector Bundles, Tangent Bundles, Cotangent Bundles
    \item Flows, Foliations and Lie Derivatives, Geodesic Flow and Tubular Neighborhood
    \item Exterior Derivatives and Stokes Theorem, De Rham Theory
    \item Sard's Theorem and Whitney's Embedding
\end{itemize}


Further Topics

\begin{itemize}
    \item Riemannian Geometry, Complex Geometry, Sympletic Geometry, Kahler Geometry, etc.
    \item PDE on manifolds, Geometric Analysis.
    \item Lie Groups.
    \item Characteristic Classes, K-theory, non abelian geometry
    \item Connections on Principal Bundles, Gauge Theory.
    \item Application of manifolds in physics, statistics, economics, etc. 
\end{itemize}

\newpage
\appendix

\section{Practice Problems}

\subsection{Week 1}

1. Show that any topological manifold is metrizable (the topology can be induced by a metric).\\

Answer: Let $C=\{U_i\}$ be a countable cover of this manifold $M$, such that each $U_i$ is homeomorphic to an open disc, and $\overline{U_i}$ is homeomorphic to a closed disc. Glue $M\backslash U_i$ into one point we get a sphere, hence we have homeomorphisms from $M/(M\backslash U_i)$ to the unit sphere $S^n$. Denote $\pi_i: M\rightarrow S^n$ be the composition between this homeomorphism with the quotient map. Let $d_n$ be the Euclidean metric on $S^n$, then we can write down a metric on $M$ as 
\[d(p, q)=\sum_i 2^{-i}d_i(\pi_i(p), \pi_i(q))\]

2. Let $M=(\mathbb{R}^2\times\mathbb{R}^2)/\sim$, where $(a, b)\sim (c, d)$ iff $a=c$, $b=d$ or $a=d$, $b=c$, gives $\mathbb{R}^2\times\mathbb{R}^2$ the product topology and $M$ the quotient topology. Show that $M$ is a topological manifold.\\

Answer: Identify $\mathbb{R}^2$ with $\mathbb{C}$, then the map $\mathbb{C}^2\rightarrow \mathbb{C}^2$ defined as $(z, z')\mapsto (z+z', zz')$ gives a homeomorphism from $M$ to $\mathbb{C}^2$.

\newpage

\subsection{Week 2}

1. Let $A$, $B$ be two disjoint non-empty compact sets in $\mathbb{R}^n$. Show that there is a smooth function $f$ on $\mathbb{R}^n$, such that $0\leq f\leq 1$, and $f|_A=0, f|_B=1$. (Hint: you can first get a continuous function then smoothen it via convolution.)\\

Answer: One can follow the hint, or use partition of unity on the cover $\{\mathbb{R}^n\backslash A, \mathbb{R}^n\backslash B\}$.\\

2. Let $M$ be the set of $2$ dimensional sub spaces of the $4$ dimensional real vector space $\mathbb{R}^4$. Pick any 2-dimensional subspace $H$, identify it with $\mathbb{R}^2$ via a linear bijection $\phi_H: H\rightarrow \mathbb{R}^2$, and two vectors $u$ and $v$ in $\mathbb{R}^4\backslash H$ which are linearly independent, and $u, v, H$ together span $\mathbb{R}^4$. Let 
\[U_{u, v, H}=\{W\in M: \text{ there exist }a_W, b_W\in H, W\cap (u+H)=\{u+a_W\},\]
\[W\cap (v+H)=\{v+b_W\}\}\]
Let 
\[i_{u, v, H}: U_{u, v, H}\rightarrow \mathbb{R}^2\times \mathbb{R}^2\cong\mathbb{R}^4\]
and be defined as 
\[i_{u, v, H}(W)=(\phi_H(a_W), \phi_H(b_W))\]
such that
\[W\cap (u+H)=\{u+a_W\}, W\cap (v+H)=\{v+b_W\}\]
Show that $M$ has a smooth manifold structure such that $\{i_{u, v, H}\}$ is a smooth atlas. This smooth manifold $M$ is called the Grassmannian $Gr_2(\mathbb{R}^4)$\\

Answer: By linear algebra these maps are bijections, and satisfy all four conditions in Theorem \ref{patch}. For Condition (2), these functions are rational hence smooth; for condition (3), let $u$, $v$ be two of the four standard basis vectors and $H$ be spanned by the remaining two basis vectors, then these finitely many $U_{u, v, H}$ covers $M$. For condition (4), given any two 2-dimensional subspaces $L$, $L'$, let $H$ be a 2-dimensional subspace which intersects with both $L$ and $L'$ only at the origin, and let $\{u, v\}$ be a basis of $H^\perp$.

\newpage

\subsection{Week 3}

1. Let $M$ be the 3-dimensional unit sphere in $\mathbb{R}^4$. Write down an open cover $C$ of $M$ by domains of coordinate charts. Write down a compactly supported, non negative smooth function $f_U$ for each $U\in C$, such that the support of $f_U$ is contained in $U$, and the sum of $f_U$ equals $1$.\\

Answer: $\{M\backslash \{(1, 0, 0, 0)\}, M\backslash \{(-1, 0, 0, 0)\}\}$. The two $f_U$ are $g_0/(g_0+g_1)$ and $g_1/(g_0+g_1)$, such that
\[g_0(x_1, x_2, x_3, x_4)=\begin{cases}e^{1/(x_1-1/2)} & x<1/2\\ 0 & x\geq 1/2\end{cases}\]
\[g_1(x_1, x_2, x_3, x_4)=g_0(-x_1, x_2, x_3, x_4)\]

2. Let $A$ be a non-empty subset of a smooth manifold $M$. Show that if every smooth function on $A$ can be extended to a smooth function on $M$, then $A$ is closed.\\

Answer: Let $d$ be the dimension of $M$. Suppose $A$ is not closed, then there is some $p\in M$ such that $p\not\in A$ and $p\in\overline{A}$. Pick a coordinate chart $i: U\rightarrow V\subseteq\mathbb{R}^d$ such that $p\in U$ and $i(p)=0$, let $f_U$ be a smooth function on $M$ such that $f_U(p)=1$ and $supp(f_U)\subseteq U$, let $g:V\rightarrow \mathbb{R}$ be defined as $g(x_1, \dots, x_d)=1/(x_1^2+\dots+x_d^2)$, and consider function $h(p)=\begin{cases}0 & p\not\in U\\ f_U(p)g(i(p)) & p\in U\end{cases}$ which is smooth on $M\backslash \{p\}$, then $h|_A$ is a smooth function on $A$ which can not be extended to $M$.

\newpage

\subsection{Week 4}

Find all possible real numbers $a$ and $b$ such that $\{(x,y)\in\mathbb{R}^2:y^2=x(x^2+ax+b)\}$ is an embedded submanifold of $\mathbb{R}^2$.\\

Answer: If $a^2-4b\not=0$ and $b\not=0$, the function $F(x, y)=y^2-x(x^2+ax+b)$ has constant rank in a neighborhood of the preimage of $0$, hence the set is an embedded submanifold. Now we consider the other cases:

\begin{enumerate}
    \item If $b=0$:
       \begin{enumerate}
           \item If $a<0$, the set has a single isolated point and hence can not be a topological manifold.
           \item If $a>0$, the set can not be a topological manifold because it is connected and with $(0, 0)$ removed it has $3$ connected components.
           \item If $a=0$, the set is $A=\{(x, y): y^2=x^3\}$. Suppose it is an embedded submanifold. Because it has empty interior and is also connected, it must have dimension $1$. Hence, then there is a coordinate chart $t$ defined on a neighborhood of $(0, 0)$ and taking value in some open set $V\subseteq\mathbb{R}$. Without loss of generality assume that $t(0, 0)=0$. The composition of the projections to $x$ and $y$ directions and $t^{-1}$ are now two smooth functions on $V$, which we denote as $x(s)$ and $y(s)$. Hence $x(0)=y(0)=0$, and embeddedness implies that either $x'(0)\not=0$ or $y'(0)\not=0$. Now consider the equation $y(s)^2=x(s)^3$, take second order derivatives on both sides we get $y'(0)=0$, take third order derivatives on both sides we get $x'(0)=0$, a contradiction.
       \end{enumerate}
    \item If $b\not=0$:
       \begin{enumerate}
           \item If $a>0$, use the same argument as in 1(a).
           \item If $a<0$, use the same argument as in 1(b).
       \end{enumerate}
       
\end{enumerate}

\newpage

\subsection{Week 5}

1. Let $(E, \pi)$ be a smooth real vector bundle over smooth manifold $B$, $\mathcal{C}$ an open cover of $B$ such that we can define local trivialization and transition maps for bundle $(E, \pi)$. Suppose $\mathcal{C}'$ is a refinement of $\mathcal{C}$, show that one can define local trivialization and transition functions for $(E, \pi)$ using $\mathcal{C}'$ as well.\\

Answer: For every $U\in \mathcal{C'}$, pick an open set $I(U)\in\mathcal{C}$, such that $U\subseteq I(U)$. Now let $j_U=j_{I(U)}|_{\pi^{-1}(U)}$, $t_{U'U}=t_{I(U')I(U)}|_{U'\cap U}$. It is easy to verify that these satisfies all the requirements for local trivialization and transition functions.\\ 

2. Let $M$ be a smooth manifold, $\mathcal{C}$ be an open cover. For any $U, V\in \mathcal{C}$ that have non empty intersection, define a smooth real-valued function $f_{VU}$ on $U\cap V$. Assume further that for $f_{UU}\equiv 0$, and for any $U, V, W\in \mathcal{C}$ with non-empty intersection, $f_{WU}=f_{WV}+f_{VU}$. Show that for any $U\in \mathcal{C}$ there is a real valued smooth function $\rho_U$ defined on $U$ such that on $U\cap V\not=\emptyset$, $f_{VU}=g_V-g_U$.\\

Answer: Let $\{\psi_U: U\in\mathcal{C}\}$ be a set of partion of unity functions. By multiplying with $\psi_U$ and the linearlity of this question, we can assume without loss of generality that the support of all $f_{VU}$ lie in some compact subset of a single $U_0\in\mathcal{C}$. Now we define $g_U$ as: $g_U\equiv 0$ if $U=U_0$ or $U\cap U_0\emptyset$; if $U\cap U_0\not=\emptyset$, $g_U=f_{UU_0}$ on $U\cap U_0$, and $g_U=0$ elsewhere.\\

3. A real vector bundle is called {\bf orientable} if one can pick a trivialization such that the value of the transition function all have positive determinant. Prove that rank $1$ smooth real vector bundle over any smooth manifold must be isomorphic to a trivial bundle.\\

Answer: By assumption, the transition functions are $t_{VU}=[e^f_{VU}]$ for some real valued function $f_{VU}$, and problem 2 is saying that $\{t_{VU}\}$ and $\{t'_{VU}\equiv [1]\}$ satisfy the coboundary condition hence represent isomorphic vector bundles. In other words, by a change of trivialization we can make all transition functions taking constant value in the $1\times 1$ identity matrix. This implies that the vector bundle in question is trivial.

\newpage

\subsection{Week 6}

1. Show that $SU(2)=\{A\in M_{2\times 2}(\mathbb{C}): A\overline{A^T}=I_2, \det(A)=1\}$ is a subgroup of $GL(2, \mathbb{C})$ and an embedded submanifold, hence is a Lie group. Show further that it is diffeomorphic to $S^3$.\\

Answer: $SU(2)$ is a level set of function $F: GL(2, \mathbb{C})\rightarrow \mathbb{R}^5$, where \[F(\left[\begin{array}{cc}a & b\\ c & d\end{array}\right])=(a\bar{a}+b\bar{b}, c\bar{c}+d\bar{d}, Re(a\bar{c}+b\bar{d}), Imag(a\bar{c}+b\bar{d}), arg(ad-bc))\]

The bijection from $SU(2)$ to $S^3$ can be defined as follows: any $A\in SU(2)$ can be sent to $A\left[\begin{array}{c}1\\0\end{array}\right]\in \mathbb{C}^2$. We identify $\mathbb{C}^2$ with $\mathbb{R}^4$ then the image of this map is the unit $3$ sphere.\\

2. Let $M$, $N$ be two smooth manifolds, $(E, \pi)$ a smooth vector bundle on $M$, $(E', \pi')$ a smooth vector bundle on $N$. Suppose $g: M\rightarrow N$ is a smooth embedding, and there is a smooth vector bundle homomorphism $h: E\rightarrow E'$ which is $\pi'\circ h=g\circ \pi$. Show that:

\begin{itemize}
    \item If $h$ is an injection then it is a smooth embedding.
    \item Find an $h$ that has different ranks at different points on $E$.
\end{itemize}

Answer:
\begin{itemize}
    \item By looking at local coordinate charts induced by trivialization we see that $h$ is smooth, hence because it is an injection, it must also be an immersion. So we only need to show that open sets are sent to open sets of the image under subspace topology. Let $m$, $n$ be the dimensions of $M$ and $N$ respectively, $r$, $r'$ be thr ranks of $E$, $E'$ respectively. Suppose $A\subseteq E$ is open, $q\in A$, $p=\pi(q)$. By rank theorem, we can find open sets $U$ and $U'$ in $M$ and $N$ that contains $p$ and $g(p)$ respectively, such that $U\subseteq A$, $g(U)=U'\cap g(M)$, and $U'\backslash g(U)$ is open. Shrink $U$ and $U'$ if necessary, we can further assume that there is a local trivialization of $E$ on $U$: $j_U: \pi^{-1}(U)\rightarrow U\cap\mathbb{R}^r$, and a local trivialization of $E'$ on $U'$: $j_{U'}: \pi'^{-1}(U')\rightarrow U'\times\mathbb{R}^{r'}$, and that there is some open set $B\subseteq\mathbb{R}^r$, $b\in B$, such that $j_U(q)=(p, b)$, and $j_U^{-1}(U\times B)\subseteq A$. Let $p_2$ be thr projection from $U'\times\mathbb{R}^{r'}$ to the second component $\mathbb{R}^{r'}$, then, because of the continuity of $j_{U'}\circ h\circ j_U^{-1}$, if $U$ and $U'$ are sufficiently small, there is a $r'-r$ dimensional subspace $L$ such that for all $x\in U$, $p_2(j_{U'}(h(E_{x})))\oplus L=\mathbb{R}^{r'}$. Then the set
    \[\{j_{U'}(g(x), v): x\in U, v=b+l, b\in p_2(j_{U'}(h(j_U^{-1}(\{x\}\times B)))), l\in L\}\cup \pi'^{-1}(U'\backslash g(U))\]
    is open in $E'$, contains $h(q)$, and its intersection with $h(E)$ is contained in $A$, which finishes the proof.
    \item Let $M=N=\mathbb{R}$, $E=E'$, $h(x, v)=(x, xv)$.
\end{itemize}

3. Show that the tangent bundle of circle $S^1$ is trivial.\\

Answer: Let $S^1$ be the unit circle in $\mathbb{R}^2$. The projections $x_0: (a, b)\mapsto a$ and $x_1: (a, b)\mapsto b$ are smooth functions on $\mathbb{R}^2$ hence must be smooth on $S^1$. We can define a bundle isomorphism from $TS^1$ to the trivial bundle $S^1\times\mathbb{R}$ as follows: for each $(a, b)\in S^1\subseteq\mathbb{R}^2$, the function $bx_0-ax_1$ is smooth on $S^1$. For any tangent vector of $S^1$ which is in the tangent space of $(a, b)\in S^1$, we represent it as a smooth path $\gamma$, then it will be sent to $((a, b), ((bx_0-ax_1)\circ\gamma)')$.

\newpage

\subsection{Week 7}

1. Let $M$ be a smooth manifold, $U$ an open subset, $p\in U$, $f: U\rightarrow \mathbb{R}$ a smooth function. Show that there is a compactly supported smooth function on $M$ which is identical to $f$ on an open subset $V\subseteq U$ such that $p\in V$.\\

Answer: By partition of unity we can find a compactly supported function $g$ whose value is between $0$ and $1$ and takes $1$ in a neighborhood of $p$, such that the support of $g$ is contained in $U$. Now one can take this new smooth function as $fg$.\\

2. Consider the smooth map from $\mathbb{R}^2$ to $\mathbb{R}^3$ defined as $f: (x_1, x_2)\mapsto (x_1, x_2, \sin(x_1)+e^{x_2})$. Let $p=(0, 0)$, find $f_*(T_p(\mathbb{R}^2))$.\\

Answer: It is spanned by $\partial_1+\partial_3$ and $\partial_2+\partial_3$.\\

3. Let $M$ be a smooth manifold, $p\in M$, $\gamma$ a smooth path starting from $p$, $f$ a smooth function on $M$. Recall that the pairing $T_pM\times T^*_pM\rightarrow \mathbb{R}$ can be written as $([\gamma], [f])\mapsto (f\circ \gamma)'|_0$. Now see $f$ as a smooth map from $M$ to $\mathbb{R}$, pick the coordinate chart on $\mathbb{R}$ as identity then we have standard basis $\{\partial_1\}$ of $T_{f(p)}\mathbb{R}$. Show that
$f_*([\gamma])=C\partial_1$ where $C$ is the pairing between $[\gamma]\in T_pM$ and $[f]\in T^*_pM$.\\

Answer: By definition, $f_*([\gamma])=[f\circ\gamma]=(f\circ\gamma)'|_{t=0}\partial_1=([\gamma], [f])\partial_1$

\newpage

\subsection{Week 8}

1. Show that any smooth 1-form on $\mathbb{R}$ is of the form $df$.\\

Answer: If the $1$-form is $g(x)dx$, let $f=\int_0^x g(t)dt$.\\


2. Write down a smooth 1-form on $\mathbb{R}^2$ which is not of the form $df$.\\

Answer: $df=f_xdx+f_ydy$, and $f_{xy}=f_{yx}$ from multivariable calculus, hence for example $dx+xdy$ can not be of the form $df$.\\

3. Write down a smooth 1-form on $S^3$ which is non-zero everywhere.\\

Answer: Let $S^3=\{(x_0, x_1, x_2, x_3): x_0^2+x_1^2+x_2^2+x_3^2=1\}$. Let $x_i: S^3\rightarrow \mathbb{R}$ be smooth functions defined as $(x_0, x_1, x_2, x_3)\mapsto x_i$. Then the $1$ form $x_1dx_0-x_0dx_1+x_3dx_2-x_2dx_3$ is non-zero everywhere.\\

4. Let $f$ and $g$ be smooth functions on manifold $M$, show that $d(fg)=fdg+gdf$.\\

Answer: For any $p\in M$, consider function $fg-f(p)g-g(p)f$, one can show by calculation that its rank at $p$ is $0$. Hence $d(fg)|_p=f(p)dg|_p+g(p)df|_p$.

\newpage

\subsection{Week 9}

1. Show that if $M$ is a compact manifold, there are finitely many smooth vector fields (smooth sections of $TM$) $X_1, \dots X_N$ such that any smooth vector field can be written as $\sum_{i=1}^Na_iX_i$ where $a_i$ are smooth real valued functions on $M$.\\

Answer: Let $C$ be a finite open cover of $M$ by domains of coordinate charts, for every $U\in C$, let $i_U$ be the coordinate chart and $f_U$ be the partition of unity function. This finite set of smooth vector fields can be chosen as $\{X_{U, i}\}$, where $X_{U, i}(p)=0$ if $p\not\in U$ and $X_{U, i}(p)=f_U(p)(i_U^{-1})_*(\partial_i)$.\\

2. If $f: M\rightarrow N$ is a smooth map between smooth manifolds, $E$, $E'$ two vector bundles on $N$. Show that $f^*(E\otimes E')$ is isomorphic to $f^*(E)\otimes f^*(E')$.\\

Answer: The vector bundle isomorphism can be defined as $(x, v\otimes v')\mapsto (x, v)\otimes (x, v')$. Alternatively, one can check that both sides have the same trivialization and transition functions.\\

3. Let $M$ be a smooth manifold, $E$, $E'$ two vector bundles on $M$, $f: E\rightarrow E'$ a surjective bundle homomorphism over $E$. Show that $E$ is isomorphic to $E'\oplus \ker(f)$.\\

Answer: Pick a positive definite quadratic form on $E$, we can show that $E=\ker(f)\oplus \ker(f)^\perp$. $f|_{\ker(f)^\perp}$ is an isomorphism from $\ker(f)^\perp$ to $E'$.\\

4. Write down a Riemannian metric on $\mathbb{CP}^2$.\\

Answer: The standard metric is the Fubini-Study metric. We can also write down one via partition of unity as follows: let $U_i=\{[z_0:z_1:z_2]: z_i\not=0\}$, coordinate charts $p_i: U_i\rightarrow \mathbb{C}^2=\{x_1+y_1\sqrt{-1}, x_2+y_2\sqrt{-1}\}$, then we can let
\[g=\sum_ip^*_i(F(x_1^2+x_2^2+y_1^2+y_2^2)dx_1\otimes dx_1+dx_2\otimes dx_2+dy_1\otimes dy_1+dy_2\otimes dy_2)\]
Here $F(t)=\begin{cases}e^{-1/(100-t^2)} & t<10\\ 0& t\geq 10\end{cases}$.

\newpage

\subsection{Week 10}

1. Write down a smooth manufold $M$, a smooth map $F: M\times\mathbb{R}\rightarrow M$, such that $F(x, 0)=x$, and $F$ is not the flow of any vector field.\\

Answer: For example, $M=\mathbb{R}$, $F(x, t)=x+t^2$. Basically as long as $F(F(x, a), b)\not=F(x, a+b)$ then $F$ can not be a flow.\\

2. Let $M$, $N$ be smooth manifolds, $f: M\rightarrow N$ a smooth map, $X$ a vector field on $M$ with flow $\Phi$, $Y$ a vector field on $N$ with flow $\Psi$. If for any $p\in M$, $f_*(X(p))=Y(f(p))$, then for any $(p, t)$ in the domain of $\Phi$, $f(\Phi(p, t))=\Psi(f(p), t)$.\\

Answer: Consider the path $\gamma(t)=f(\Phi(p, t))$, then by definition of $f_*$, ${d\over dt}\gamma=f_*(X(\Phi(p, t)))=Y(f(\Phi(p, t)))=Y(\gamma(t))$, and $\gamma(0)=f(p)$, so the equation follows from uniqueness of solutions of ODEs.\\

3. Let $M$ be a smooth manifold with Riemannian metric $g$. $g$ defined a symmetric bilinear form on $T_xM$ for any $x\in M$, denoted as $g(\cdot, \cdot)$.
\begin{enumerate}
    \item Show that there is a vector bundle isomorphism $C: T^*M\rightarrow TM$ defined as $g(C(a), v)=(v, a)$ for any $a\in T_x^*M$, $v\in T_xM$, and $(v, a)$ is the standard bilinear pairing $T_xM\times T^*_xM\rightarrow\mathbb{R}$.
    \item Let $i: U\rightarrow V\subseteq\mathbb{R}^n=\{(x^1, \dots, x^n)\}$ be any smooth coordinate chart on $M$, then it induces a coordinate chart on $T^*M$ defined as $I: T_U^*M\rightarrow V\times \mathbb{R}^n$,
    \[p_idx^i\in T_{i^{-1}(s^1, \dots, s^n)}^*M\mapsto (s^1, \dots, s^n, p^1, \dots, p^n)\]
    Let $H$ be a smooth function on $T^*M$, show that there is a vector field $X$ on $T^*M$ such that 
    \[X(s^1, \dots, s^n, p_1, \dots, p_n)=\sum_i{\partial h\over \partial p_i}\partial_{s^i}-\sum_i{\partial h\over \partial s^i}\partial_{p_i}\]
    under coordinate chart $I$, and where $h=H\circ I^{-1}$.
\end{enumerate}

Remark: When $H(a)={1\over 2}g(C(a), C(a))$, the vector flow $X$ defines the {\bf cogeodesic flow}, and $C_*(X)$ is the vector field that defines the geodesic flow.\\

Answer: \begin{enumerate}
    \item Under a local coordinate chart, if $g=g_{ij}dx^i\otimes dx^j$, let $[g^{ij}]$ be the inverse of the positive definite symmetric matrix $[g_{ij}]$, then $C(dx^i)=g^{ij}\partial_j$.
    \item Under a change of variable $i'\circ i^{-1}: (s^1, \dots, s^n)\mapsto (t^1, \dots, t^n)$, the point $(s^1, \dots, s^n, p_1, \dots, p_n)$ will be sent to $(t^1, \dots, t^n, q_1, \dots, q_n)$, where 
    \[q_i=p_j{\partial s^j\over \partial t^i}\]
    By chain law, we have
    \[{\partial H\circ I'\over\partial q_i}={\partial h\over\partial s^j}{\partial s^j\over \partial q_i}+{\partial h\over\partial p_j}{\partial p_j\over \partial q_i}\]
    \[\partial_{t^i}={\partial s^j\over \partial t^i}\partial_{s^j}+{\partial p_j\over \partial t^i}\partial_{p_j}\]
    \[{\partial H\circ I'\over \partial t^i}={\partial h\over\partial s^j}{\partial s^j\over \partial t^i}+{\partial h\over\partial p_j}{\partial p_j\over \partial t^i}\]
    \[\partial_{q_i}={\partial p_j\over\partial q_i}\partial_{p_j}+{\partial s^j\over\partial q_i}\partial s^j\]
    Apply $q_i=p_j{\partial s^j\over \partial t^i}$ and ${\partial s^j\over\partial q_i}=0$ one gets that $X$ is invariant under this coordinate change.
\end{enumerate}

\newpage

\subsection{Week 11}

1. Write down a smooth manifold and a smooth foliation on it, such that the leaves of this foliation can not be written as connected components of preimages of points under a submersion.\\

Answer: Let $M$ be an open submanfold of $\mathbb{R}^2$ defined as $M=\{(x, y): 1<x^2+y^2<9\}$. Now consider a foliation defined by charts of the form $i_{(a, b)}: \{(r\cos(\theta), r\sin(\theta)): 1<r<3, a<\theta<b\}\rightarrow (a, b)\times \mathbb{R}$ where $0<b-a<2\pi$, such that $i^{-1}(u, v)=((2+{2\arctan(e^uv)\over\pi})\cos(u), (2+{2\arctan(e^uv)\over\pi})\sin(u))$.\\

2. Let $f$ and $g$ be two smooth functions, $X=\partial_1+f\partial_2$ and $Y=g\partial_2+\partial_3$ be two vector fields in $\mathbb{R}^3$. Let $D$ be a rank 2 subbundle of $T\mathbb{R}^3$, such that $D_p=span_{\mathbb{R}}(X(p), Y(p))$. Find the condition on $f$ and $g$ that makes $D$ a distribution associated with a dimension 2 foliation on $\mathbb{R}^3$. When $f$ and $g$ satisfy this condition, can you write down all smooth functions $u$ on $\mathbb{R}^3$ such that $\partial_1 u+f\partial_2 u=g\partial_2 u+\partial_3u=0$?\\

Answer: By Frobenious theorem, $D$ is integrable iff $[X, Y]=aX+bY$ for some functions $a$ and $b$, by computation this is equivalent to \[\partial_1g+f\partial_2g=g\partial_2f+\partial_3 f\]
The function $u$ must be constant on the leaves of this foliation. To find such leaves, we can solve initial value problems:

\[v(0, y, 0)=y, \partial_x v(x, y, 0)=f(x, v(x, y, 0), 0), \partial_z v(x, y, z)=g(x, v(x, y, z), z)\]

and then leaves of the foliation are of the form $L_y=\{(x, v(x, y, z), z): x, z\in\mathbb{R}\}$, and $u$ satisfies
$u(x, v(x, y, z), z)=\phi(y)$ where $\phi$ is any real valued function.

\newpage

\subsection{Week 12}

1. Write down a smooth function from $\mathbb{R}$ to $\mathbb{R}$ that has uncountably many critical values.\\

Answer: Let $C$ be a Cantor set, $\psi$ be a non negative bump function whose support is contained in $(0, 1)$. Now define a function $g$ on $\mathbb{R}$ as follows: for every finite open interval $(a, b)$ which is a connected component of the compliment of $C$, let $g|_{(a, b)}$ be $e^{-1/(b-a)}\psi((x-a)/(b-a))$, and $g=0$ everywhere else. One can check that $g$ is a smooth function and $x\mapsto \int_0^x g(t)dt$ satisfies the requirement.\\

2. Let $M$ be a smooth manifold, $E$ a smooth real vector bundle over $M$. Show that there is an embedding $i: M\rightarrow \mathbb{R}^N$ for some $N$, such that $E$ is isomorphic to a subbundle of $i^*(T\mathbb{R}^N)$.\\

Answer: Apply Whitney's embedding theorem to $E$, we get an embedding $j: E\rightarrow \mathbb{R}^N$. Now let $z: M\rightarrow E$ be the zero section, then $j\circ z: M\rightarrow\mathbb{R}^N$ is an embedding and $E$ is isomorphic to $T_{j(z(M))}j(E)$ which is a subbundle of $T_{j(z(M))}\mathbb{R}^N$. Pull back by $j\circ z$ we finished the proof.


\newpage

\subsection{Week 13}

Let $S^2$ be the unit sphere in 3-dimensional Euclidean space $\mathbb{R}^3=\{(x, y, z): x, y, z\in\mathbb{R}\}$. Let $i$ be the inclusion map, $\alpha=xdy\wedge dz$ a $2$-form on $\mathbb{R}^3$.

\begin{enumerate}
    \item Write down $i^*(\alpha)$ using local coordinate charts on $S^2$.
    \item Calculate $\int_{S^2}\alpha$.
\end{enumerate}

Answer:
\begin{enumerate}
    \item Under coordinate chart $i(x, y, z)=({x\over 1-z}, {y\over 1-z})$,
    if we let $u={x\over 1-z}$, $v={y\over 1-z}$, then \[x={2u\over u^2+v^2+1}\] \[y={2v\over u^2+v^2+1}\] 
    \[z=1-{2\over u^2+v^2+1}\]
    \[\alpha={2u\over u^2+v^2+1}({4uv\over (u^2+v^2+1)^2}du-{2(u^2-v^2+1)\over (u^2+v^2+1)^2}dv)\]
    \[\wedge ({4u\over (u^2+v^2+1)^2}du+{4v\over(u^2+v^2+1)^2}dv)\]
    \[={16u^2du\wedge dv\over (u^2+v^2+1)^4}\]

    One can do similar calculation on other coordinate charts.
    \item Because the coordinate chart described above cover $S^2$ except for one point, 
    \[\int_S^2\alpha=\int_{\mathbb{R}^2} {16u^2dudv\over (u^2+v^2+1)^4}={4\over 3}\pi\]
    Here the orientation of $S^2$ is assumed to be compatible with the coordinate chart $i$.
\end{enumerate}

\newpage

\section{Homework}

\subsection{HW 1}

Let $S=\{(x_0, x_1, x_2)\in\mathbb{R}^3: x_0^2+x_1^2+x_2^2=1\}$ be the unit sphere in 3-dimensional Euclidean space. Let $M=\{(p, q): d(p, q)=1\}$, where $d$ is the Euclidean distance.

\begin{enumerate}[(1)]
    \item Show that $M$ is an embedded submanifold of $S\times S$ of dimension $3$.
    \item Write down a smooth atlas on M with finitely many coordinate charts. 
\end{enumerate}
\newpage

\subsection{HW 2}

Let $S=S^2$ be the unit sphere in $\mathbb{R}^3$. Let $TS$ be its tangent bundle, $\pi: TS\rightarrow S$ be the projection map. Let $T^*(TS)$ be the contingent bundle of $TS$,
$\pi': T^*(TS)\rightarrow TS$ its projection map.
\begin{enumerate}[(1)]
    \item Show that $T^*(TS)$
is a vector bundle over $S$ under the projection map $\pi\circ \pi'$. Write down a set of local trivializations of this vector bundle and the corresponding transition functions.
\item The smooth map $\pi\circ \pi'$ induces a vector bundle homomorphism $(\pi\circ \pi')^*: T(T^*(TS))\rightarrow TS$. Let $N=\{v\in T(T^*(TS)): (\pi\circ \pi')_*(v)=0_p\}$ where $0_p$ is the zero vector in some $T_pS$. Is $N$ a smooth vector bundle over $S$?
\end{enumerate}

\newpage
\subsection{HW 3}

\begin{enumerate}
    \item Let $M$ be a compact smooth manifold. Show that for any natural number $d$, there is a number $N(M, d)$, such that any smooth vector bundle over $M$ of rank $d$ is a subbundle of the trivial bundle over M of rank $N(M, d)$.
    \item Let $S$ be the unit $2$-sphere in 3 dimensional Euclidean space.
    \begin{enumerate}[(1)]
        \item Write down a Riemannian metric $g$ on $S$.
        \item Let $N$ be the set of tangent vectors in $TS$ whose length under $g$ equals 1. Show that $N$ is an embedded submanifold of $TS$.
        \item Let $\pi: N\rightarrow S$ be the projection map. Can $\pi^*(g)$ be a Riemannian metric on $N$? Here the pull back of a $(0, 2)$ tensor is defined as $\pi^*(a\otimes b)=\pi^*(a)\otimes \pi^*(b)$.
        \item Can you find a non-zero vector field $X$ on $N$ such that $L_X(\pi^*(g))=0$?
    \end{enumerate}
\end{enumerate}

\newpage

\section{Notes on Projective Spaces}

\begin{dfn}
    Let $X$ be a topological space, $p: X\rightarrow Y$ a surjection. The {\bf quotient topology} on $Y$ is one such that a subset $U$ of $Y$ is open iff $p^{-1}(U)$ is open in $X$.
\end{dfn}

\begin{dfn}
    Let $\mathbb{S}^n=\{(x_0, \dots, x_n)\in\mathbb{R}^{n+1}: \sum_{i=0}^n x_i^2=1\}$, with subspace topology. Define an equivalence relation $\sim$, such that $(x_0, \dots, x_n)\sim (y_0, \dots, y_n)$ iff either $x_k=y_k$ for all $k$, or $x_k=-y_k$ for all $k$. Then $\mathbb{S}^n/\sim$ with the quotient topology is called the n-dimenstional {\bf real projective space}, denoted as $\mathbb{RP}^n$. When $n=1$ and $2$ it is also called the {\bf real projective line} and the {\bf real projective plane} respectively. A point in $\mathbb{RP}^n$ can be represented by a representative of this equivalence class in $\mathbb{S}^n$, with the notation of $[x_0, \dots, x_n]$ or $[x_0:x_1:\dots:x_n]$, called the {\bf homogenuous coordinates} (which {\bf is not} a coordinate chart). 
\end{dfn}

\begin{dfn}
    Let $\mathbb{S}^{2n+1}=\{(z_0, \dots, z_n)\in\mathbb{C}^{n+1}: \sum_{i=0}^n z_i\overline{z_i}=1\}$. Here we identify $\mathbb{C}$ with $\mathbb{R}^2$ by looking at the real part and imaginary part of a complex number. Define an equivalence relation $\sim$, such that $(z_0, \dots, z_n)\sim (z'_0, \dots, z'_n)$ iff there is some $\lambda\in\mathbb{C}$ such that $z'_k=\lambda z_k$ for all $k$. Then $\mathbb{S}^{2n+1}/\sim$ with the quotient topology is called the n-dimenstional {\bf complex projective space}, denoted as $\mathbb{CP}^n$. When $n=1$ and $2$ it is also called the {\bf complex projective line} and the {\bf complex projective plane} respectively. We can write down elements of $\mathbb{CP}^n$ via the homogenuous coordinates similarly. 
\end{dfn}
    
The Euclidean metrics on $\mathbb{R}^{n+1}$ and $\mathbb{C}^{n+1}$ induce metrics on $\mathbb{RP}^n$ and $\mathbb{CP}^n$ as follows: let $p, q$ be two points on $\mathbb{RP}^n$ (or $\mathbb{CP}^n$), $p', q'$ their representatives on $\mathbb{S}^{n+1}$ (or $\mathbb{S}^{2n+1}$), then $d(p, q)=\inf_{r\sim q}d_{Euclid}(p, r)$ where $d_{Euclid}$ is the Euclidean distance. It is easy to see, e.g. by calculation, that the topology induced by these metrics are the same as the quotient topology, which implies that both $\mathbb{RP}^n$ and $\mathbb{CP}^n$ are Hausdorff. The subset where the ratios of the homogenuous coordinates are all rational (or all in $\mathbb{Q}[\sqrt{-1}]$) is a dense countable subset, hence both are second countable.\\

Let $M=\mathbb{RP}^n$ (or $\mathbb{CP}^n$), there are $n+1$ open subsets $U_k=\{[x_0:\dots:x_n] : x_k\not=0\}$ which form an open cover. Each of these open subsets are homeomorphic to $\mathbb{R}^n$ (or $\mathbb{C}^n$, which we identify with $\mathbb{R}^{2n}$) by the map

\[[x_0:\dots:x_n]\mapsto (x_0/x_k, \dots, x_{k-1}/x_k, x_{k+1}/x_k, \dots, x_n/x_k)\]

This show that both $\mathbb{RP}^n$ and $\mathbb{CP}^n$ are locally Euclidean hence both are topological manifolds. The $n+1$ homeomorphisms form a smooth atlas on $\mathbb{RP}^n$ ($\mathbb{CP}^n$), which make them smooth manifolds as well.

\newpage

\section{Suggested Final Presentation Topics}

Below are some suggested presentation topics. You can find references to these topics via Google or Wikipedia. For more complicated topics it would be sufficient to just present a simplest example! You can also pick some other topic not on this list, preferably related to your own research interests!

\begin{enumerate}
\item Every smooth manifold has a triangulation
\item Whitney trick in Whitneys embedding theorem
\item Connections and curvature
\item Gauss map and Second fundamental form for embedded manifolds
\item Relationship between Lie groups and Lie algebras
\item Closed subgroups of Lie groups are sub manifolds
\item Exceptional Lie groups
\item Complex manifolds
\item Symplectic manifolds 
\item Kahler manifolds
\item Toric manifolds
\item Riemann surfaces
\item Mapping class groups and braid groups
\item Poincare duality
\item Chern classes, Euler classes
\item John Milnors exotic sphere
\item Stable and unstable foliations of a hyperbolic flow or diffeomorphism
\item Cech cohomology and its relationship with deRham cohomology (Cech to derived functor spectral sequence)
\item Classifying spaces of vector bundles
\item Topological K-theory
\item Hamiltonian and Lagrangian in physics
\item Noethers theorem in physics
\item EM field as U(1) gauge theory 
\item Manifold learning
\item Quantum Extremal Surface
\end{enumerate}




\end{document}

